<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(October 2022) ONCHO stop TDM - 3. Formulaire OV16</h:title>
    <model odk:xforms-version="1.0.0">

      <instance>
        <data id="tg_oncho_stop_3_elisa_202209">
          <d_RecorderID/>
          <c_gite/>
          <c_district/>
          <c_bassin_fluvial/>
          <c_nom_riviere_fleuve/>
          <c_nom_riviere_fleuve_id/>
          <d_code_id/>
          <d_LabELISA/>
          <d_Notes/>
          <d_StartTime/>
          <d_EndTime/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation default="true()" lang="French">
          <text id="/data/d_RecorderID:jr:constraintMsg">
            <value>Le code doit être un nombre à deux chiffres entre 9 et 99</value>
          </text>
          <text id="/data/d_RecorderID:label">
            <value>Entrer l'identifiant de l'enregistreur</value>
          </text>
          <text id="/data/d_RecorderID:hint">
            <value>Code à deux chiffres qui vous a été assigné</value>
          </text>
          <text id="/data/c_gite:label">
            <value>Sélectionner un gite</value>
          </text>
          <text id="/data/c_gite/Doungue:label">
            <value>Doungue</value>
          </text>
          <text id="/data/c_gite/Tchanaga:label">
            <value>Tchanaga</value>
          </text>
          <text id="/data/c_gite/Tchountchounga:label">
            <value>Tchountchounga</value>
          </text>
          <text id="/data/c_district:label">
            <value>Sélectionner un District</value>
          </text>
          <text id="/data/c_bassin_fluvial:label">
            <value>Sélectionner un bassin fluvial</value>
          </text>
          <text id="/data/c_nom_riviere_fleuve:label">
            <value>Sélectionner un nom de la rivière/fleuve</value>
          </text>
          <text id="/data/c_nom_riviere_fleuve_id:label">
            <value>Sélectionner l'identifiant du fleuve</value>
          </text>
          <text id="/data/d_code_id:jr:constraintMsg">
            <value>Le format du QR code est incorrect. Ex s'un format correct : SA 00001 22</value>
          </text>
          <text id="/data/d_code_id:label">
            <value>Scanner l'identification (Identifiant) du Participant</value>
          </text>
          <text id="/data/d_LabELISA:label">
            <value>Résultat du test RDT ELISA</value>
          </text>
          <text id="/data/d_LabELISA/Positif:label">
            <value>Positif</value>
          </text>
          <text id="/data/d_LabELISA/Negatif:label">
            <value>Négatif</value>
          </text>
          <text id="/data/d_LabELISA/Invalide:label">
            <value>Invalide (y compris les erreurs de test et le sang insuffisant)</value>
          </text>
          <text id="/data/d_LabELISA/Refuse:label">
            <value>Refusé (retrait du consentement)</value>
          </text>
          <text id="/data/d_Notes:label">
            <value>Notes Additionnelles</value>
          </text>
          <text id="yesNoDontKnow-0">
            <value>Oui</value>
          </text>
          <text id="yesNoDontKnow-1">
            <value>Non</value>
          </text>
          <text id="yesNoDontKnow-2">
            <value>Ne sais pas</value>
          </text>
          <text id="yesNo-0">
            <value>Oui</value>
          </text>
          <text id="yesNo-1">
            <value>Non</value>
          </text>
          <text id="p_IDMethod-0">
            <value>Scanner</value>
          </text>
          <text id="p_IDMethod-1">
            <value>Génération Automatique</value>
          </text>
          <text id="results-0">
            <value>Positif</value>
          </text>
          <text id="results-1">
            <value>Négatif</value>
          </text>
          <text id="results-2">
            <value>Invalide (y compris les erreurs de test et le sang insuffisant)</value>
          </text>
          <text id="results-3">
            <value>Refusé (retrait du consentement)</value>
          </text>
          <text id="why_invalid-0">
            <value>Absence de ligne témoin</value>
          </text>
          <text id="why_invalid-1">
            <value>Ligne témoin brisées/partielle</value>
          </text>
          <text id="why_invalid-2">
            <value>Difficulté d'absorption d'échantillon</value>
          </text>
          <text id="why_invalid-3">
            <value>Difficulté de migration de l'échantillon</value>
          </text>
          <text id="why_invalid-4">
            <value>Trace de sang persiste</value>
          </text>
          <text id="why_invalid-5">
            <value>Insuffisance du volume de sang due à la pipette</value>
          </text>
          <text id="why_invalid-6">
            <value>Autre (expliquer)</value>
          </text>
          <text id="gite-0">
            <value>Doungue</value>
          </text>
          <text id="gite-1">
            <value>Tchanaga</value>
          </text>
          <text id="gite-2">
            <value>Tchountchounga</value>
          </text>
          <text id="district-0">
            <value>Tandjouare</value>
          </text>
          <text id="district-1">
            <value>Oti</value>
          </text>
          <text id="district-2">
            <value>Oti Sud</value>
          </text>
          <text id="bassin_fluvial-0">
            <value>Volta blanche</value>
          </text>
          <text id="bassin_fluvial-1">
            <value>Oti</value>
          </text>
          <text id="bassin_fluvial-2">
            <value>Oti</value>
          </text>
          <text id="nom_riviere_fleuve-0">
            <value>Kologona</value>
          </text>
          <text id="nom_riviere_fleuve-1">
            <value>Oti</value>
          </text>
          <text id="nom_riviere_fleuve_id-0">
            <value>101</value>
          </text>
          <text id="nom_riviere_fleuve_id-1">
            <value>102</value>
          </text>
        </translation>
      </itext>
      <instance id="yesNoDontKnow">
        <root>
          <item>
            <itextId>yesNoDontKnow-0</itextId>
            <name>Oui</name>
          </item>
          <item>
            <itextId>yesNoDontKnow-1</itextId>
            <name>Non</name>
          </item>
          <item>
            <itextId>yesNoDontKnow-2</itextId>
            <name>Ne sais pas</name>
          </item>
        </root>
      </instance>
      <instance id="yesNo">
        <root>
          <item>
            <itextId>yesNo-0</itextId>
            <name>Oui</name>
          </item>
          <item>
            <itextId>yesNo-1</itextId>
            <name>Non</name>
          </item>
        </root>
      </instance>
      <instance id="p_IDMethod">
        <root>
          <item>
            <itextId>p_IDMethod-0</itextId>
            <name>Scanner</name>
          </item>
          <item>
            <itextId>p_IDMethod-1</itextId>
            <name>ID_generation</name>
          </item>
        </root>
      </instance>
      <instance id="results">
        <root>
          <item>
            <itextId>results-0</itextId>
            <name>Positif</name>
          </item>
          <item>
            <itextId>results-1</itextId>
            <name>Negatif</name>
          </item>
          <item>
            <itextId>results-2</itextId>
            <name>Invalide</name>
          </item>
          <item>
            <itextId>results-3</itextId>
            <name>Refuse</name>
          </item>
        </root>
      </instance>
      <instance id="why_invalid">
        <root>
          <item>
            <itextId>why_invalid-0</itextId>
            <name>Absence.de.ligne.temoin</name>
          </item>
          <item>
            <itextId>why_invalid-1</itextId>
            <name>Ligne.temoin.brisees/partielle</name>
          </item>
          <item>
            <itextId>why_invalid-2</itextId>
            <name>Difficulte.d.absorption.d.echantillon</name>
          </item>
          <item>
            <itextId>why_invalid-3</itextId>
            <name>Difficulte.de.migration.de.l.echantillon</name>
          </item>
          <item>
            <itextId>why_invalid-4</itextId>
            <name>Trace.de.sang.persiste</name>
          </item>
          <item>
            <itextId>why_invalid-5</itextId>
            <name>Insuffisance.du.volume.de.sang.due.a.la.pipette</name>
          </item>
          <item>
            <itextId>why_invalid-6</itextId>
            <name>Other</name>
          </item>
        </root>
      </instance>
      <instance id="gite">
        <root>
          <item>
            <itextId>gite-0</itextId>
            <name>Doungue</name>
          </item>
          <item>
            <itextId>gite-1</itextId>
            <name>Tchanaga</name>
          </item>
          <item>
            <itextId>gite-2</itextId>
            <name>Tchountchounga</name>
          </item>
        </root>
      </instance>
      <instance id="district">
        <root>
          <item>
            <itextId>district-0</itextId>
            <gite>Doungue</gite>
            <name>Tandjouare</name>
          </item>
          <item>
            <itextId>district-1</itextId>
            <gite>Tchanaga</gite>
            <name>Oti</name>
          </item>
          <item>
            <itextId>district-2</itextId>
            <gite>Tchountchounga</gite>
            <name>Oti Sud</name>
          </item>
        </root>
      </instance>
      <instance id="bassin_fluvial">
        <root>
          <item>
            <itextId>bassin_fluvial-0</itextId>
            <district>Tandjouare</district>
            <name>Volta blanche</name>
          </item>
          <item>
            <itextId>bassin_fluvial-1</itextId>
            <district>Oti</district>
            <name>Oti</name>
          </item>
          <item>
            <itextId>bassin_fluvial-2</itextId>
            <district>Oti Sud</district>
            <name>Oti</name>
          </item>
        </root>
      </instance>
      <instance id="nom_riviere_fleuve">
        <root>
          <item>
            <itextId>nom_riviere_fleuve-0</itextId>
            <bassin_fluvial>Volta blanche</bassin_fluvial>
            <name>Kologona</name>
          </item>
          <item>
            <itextId>nom_riviere_fleuve-1</itextId>
            <bassin_fluvial>Oti</bassin_fluvial>
            <name>Oti</name>
          </item>
        </root>
      </instance>
      <instance id="nom_riviere_fleuve_id">
        <root>
          <item>
            <itextId>nom_riviere_fleuve_id-0</itextId>
            <name>101</name>
            <nom_riviere_fleuve>Kologona</nom_riviere_fleuve>
          </item>
          <item>
            <itextId>nom_riviere_fleuve_id-1</itextId>
            <name>102</name>
            <nom_riviere_fleuve>Oti</nom_riviere_fleuve>
          </item>
        </root>
      </instance>
      <bind constraint="regex(.,'^[0-9]{2}$') and . &gt; 9 and . &lt; 1000" jr:constraintMsg="jr:itext('/data/d_RecorderID:jr:constraintMsg')" nodeset="/data/d_RecorderID" required="true()" type="int"/>
      <bind nodeset="/data/c_gite" required="true()" type="string"/>
      <bind nodeset="/data/c_district" required="true()" type="string"/>
      <bind nodeset="/data/c_bassin_fluvial" required="true()" type="string"/>
      <bind nodeset="/data/c_nom_riviere_fleuve" required="true()" type="string"/>
      <bind nodeset="/data/c_nom_riviere_fleuve_id" required="true()" type="string"/>
      <bind constraint="regex(., '^SA [0-9]{5} [0-9]{2}$')" jr:constraintMsg="jr:itext('/data/d_code_id:jr:constraintMsg')" nodeset="/data/d_code_id" required="true()" type="barcode"/>
      <bind nodeset="/data/d_LabELISA" required="true()" type="string"/>
      <bind nodeset="/data/d_Notes" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/d_StartTime" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/d_EndTime" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/d_RecorderID">
      <label ref="jr:itext('/data/d_RecorderID:label')"/>
      <hint ref="jr:itext('/data/d_RecorderID:hint')"/>
    </input>
    <select1 ref="/data/c_gite">
      <label ref="jr:itext('/data/c_gite:label')"/>
      <item>
        <label ref="jr:itext('/data/c_gite/Doungue:label')"/>
        <value>Doungue</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_gite/Tchanaga:label')"/>
        <value>Tchanaga</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_gite/Tchountchounga:label')"/>
        <value>Tchountchounga</value>
      </item>
    </select1>
    <select1 ref="/data/c_district">
      <label ref="jr:itext('/data/c_district:label')"/>
      <itemset nodeset="instance('district')/root/item[ /data/c_gite  = gite]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_bassin_fluvial">
      <label ref="jr:itext('/data/c_bassin_fluvial:label')"/>
      <itemset nodeset="instance('bassin_fluvial')/root/item[ /data/c_district  = district]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_nom_riviere_fleuve">
      <label ref="jr:itext('/data/c_nom_riviere_fleuve:label')"/>
      <itemset nodeset="instance('nom_riviere_fleuve')/root/item[ /data/c_bassin_fluvial  = bassin_fluvial]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_nom_riviere_fleuve_id">
      <label ref="jr:itext('/data/c_nom_riviere_fleuve_id:label')"/>
      <itemset nodeset="instance('nom_riviere_fleuve_id')/root/item[ /data/c_nom_riviere_fleuve  = nom_riviere_fleuve]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <input ref="/data/d_code_id">
      <label ref="jr:itext('/data/d_code_id:label')"/>
    </input>
    <select1 ref="/data/d_LabELISA">
      <label ref="jr:itext('/data/d_LabELISA:label')"/>
      <item>
        <label ref="jr:itext('/data/d_LabELISA/Positif:label')"/>
        <value>Positif</value>
      </item>
      <item>
        <label ref="jr:itext('/data/d_LabELISA/Negatif:label')"/>
        <value>Negatif</value>
      </item>
      <item>
        <label ref="jr:itext('/data/d_LabELISA/Invalide:label')"/>
        <value>Invalide</value>
      </item>
      <item>
        <label ref="jr:itext('/data/d_LabELISA/Refuse:label')"/>
        <value>Refuse</value>
      </item>
    </select1>
    <input ref="/data/d_Notes">
      <label ref="jr:itext('/data/d_Notes:label')"/>
    </input>
  </h:body>
</h:html>
