<h:html xmlns="http://www.w3.org/2002/xforms" 
  xmlns:h="http://www.w3.org/1999/xhtml" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
  xmlns:jr="http://openrosa.org/javarosa">
  <h:head>
    <h:title>3. (English) OEM Breeding site survey - River assessment v5 - Mozambique</h:title>
    <model>
      <instance>
        <data id="OEMRiverAssessmentv5_Mozambique">
          <meta>
            <instanceID/>
          </meta>
          <r_StartTime/>
          <r_EndTime/>
          <r_RecorderID/>
          <r_Province/>
          <r_DistrictID/>
          <r_SiteName/>
          <r_date/>
          <r_GPS/>
          <r_RiverName/>
          <r_RiverBasin/>
          <r_SiteSuitable/>
          <r_EvidenceOfLarvae/>
          <r_LarvaeRate/>
          <r_Notes/>
        </data>
      </instance>
      <itext>
        <translation lang="English">
          <text id="/data/r_RecorderID:label">
            <value>Enter Recorder ID</value>
          </text>
          <text id="/data/r_RecorderID:hint">
            <value>2 digit code assigned to you</value>
          </text>

          <!-- Province label begin -->
          <text id="/data/r_Province:label">
            <value>Select Province</value>
          </text>
          <text id="/data/r_Province:option0">
            <value>Manica</value>
          </text>
          <text id="/data/r_Province:option1">
            <value>Niassa</value>
          </text>
          <text id="/data/r_Province:option2">
            <value>Sofala</value>
          </text>
          <text id="/data/r_Province:option3">
            <value>Tete</value>
          </text>
          <text id="/data/r_Province:option4">
            <value>Other province</value>
          </text>

          <!-- Province label end -->

          <!-- District label begin -->          

          <text id="/data/r_DistrictID:label">
            <value>Select District</value>
          </text>

          <text id="/data/r_DistrictID:option0">
            <value>Buzi</value>
          </text>
          <text id="/data/r_DistrictID:option1">
            <value>Gôndola</value>
          </text>
          <text id="/data/r_DistrictID:option2">
            <value>Lago</value>
          </text>
          <text id="/data/r_DistrictID:option3">
            <value>Machaze</value>
          </text>
          <text id="/data/r_DistrictID:option4">
            <value>Manica</value>
          </text>
          <text id="/data/r_DistrictID:option5">
            <value>Maravia</value>
          </text>
          <text id="/data/r_DistrictID:option6">
            <value>Sanga</value>
          </text>
          <text id="/data/r_DistrictID:option7">
            <value>Other District</value>
          </text>

          <!-- District label end -->

          <text id="/data/r_SiteName:label">
            <value>Enter the name of breeding site surveyed </value>
          </text>
          <text id="/data/r_SiteName:hint">
            <value>The name of the nearest community to the breeding site</value>
          </text>
          <text id="/data/r_date:label">
            <value>Enter today's date</value>
          </text>

          <text id="/data/r_GPS:label">
            <value>Collect GPS data</value>
          </text>
          <text id="/data/r_GPS:hint">
            <value>Works best outside of buildings</value>
          </text>
          <text id="/data/r_RiverName:label">
            <value>Name of river or stream</value>
          </text>
          <text id="/data/r_RiverBasin:label">
            <value>Name of river basin</value>
          </text>
          <text id="/data/r_SiteSuitable:label">
            <value>At time of inspection did site appear suitable for black fly breeding</value>
          </text>
          <text id="/data/r_SiteSuitable:option0">
            <value>Yes</value>
          </text>
          <text id="/data/r_SiteSuitable:option1">
            <value>No</value>
          </text>
          <text id="/data/r_EvidenceOfLarvae:label">
            <value>At time of inspection did site provide evidence of larvae</value>
          </text>
          <text id="/data/r_EvidenceOfLarvae:option0">
            <value>Yes</value>
          </text>
          <text id="/data/r_EvidenceOfLarvae:option1">
            <value>No</value>
          </text>
          <text id="/data/r_LarvaeRate:label">
            <value>If yes to larvae, rate abundance as few, some or many</value>
          </text>
          <!-- Larvae Rate Begin -->
          <text id="/data/r_LarvaeRate:option0">
            <value>-</value>
          </text>
          <text id="/data/r_LarvaeRate:option1">
            <value>+ (1 - 10)</value>
          </text>
          <text id="/data/r_LarvaeRate:option2">
            <value>++ (11 - 50)</value>
          </text>
          <text id="/data/r_LarvaeRate:option3">
            <value>+++ (more than 50)</value>
          </text>
          <!-- Larvae Rate End -->
          <text id="/data/r_Notes:label">
            <value>Additional notes to add?</value>
          </text>
        </translation>
        

        <!-- <instance id="provinces">
          <root>
            <item>
              <itextId>static_instance-provinces-0</itextId>
              <name>Manica</name>
            </item>
            <item>
              <itextId>static_instance-provinces-1</itextId>
              <name>Niassa</name>
            </item>
            <item>
              <itextId>static_instance-provinces-2</itextId>
              <name>Sofala</name>
            </item>
            <item>
              <itextId>static_instance-provinces-3</itextId>
              <name>Tete</name>
            </item>
            <item>
              <itextId>static_instance-provinces-4</itextId>
              <name>Other province</name>
            </item>

          </root>
        </instance> -->

      </itext>

      <instance id="districts">
        <root>
          <item>
            <itextId>/data/r_DistrictID:option0</itextId>
            <name>Buzi; 33210</name>
            <r_Province>Sofala</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option1</itextId>
            <name>Gôndola; 33152</name>
            <r_Province>Manica</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option2</itextId>
            <name>Lago; 33196</name>
            <r_Province>Niassa</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option3</itextId>
            <name>Machaze; 33155</name>
            <r_Province>Manica</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option4</itextId>
            <name>Manica; 3315</name>
            <r_Province>Manica</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option5</itextId>
            <name>Maravia; 33233</name>
            <r_Province>Tete</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option6</itextId>
            <name>Sanga; 33209</name>
            <r_Province>Niassa</r_Province>
          </item>
          <item>
            <itextId>/data/r_DistrictID:option7</itextId>
            <name>Other District</name>
            <r_Province>Other province</r_Province>
          </item>

        </root>
      </instance>

      <bind nodeset="/data/meta/instanceID" type="string" readonly="true()" calculate="concat('uuid:', uuid())"/>
      <bind nodeset="/data/r_StartTime" type="dateTime" jr:preload="timestamp" jr:preloadParams="start"/>
      <bind nodeset="/data/r_EndTime" type="dateTime" jr:preload="timestamp" jr:preloadParams="end"/>
      <bind nodeset="/data/r_RecorderID" type="int" required="true()" maxLength="2" constraint="regex(., '^[0-9]{2}$')" jr:constraintMsg="Invalid. Recorder ID code is 2 numbers long."/>
      <bind nodeset="/data/r_Province" type="select1" required="true()"  />
      <bind nodeset="/data/r_DistrictID" type="select1" required="true()" />
      <bind nodeset="/data/r_SiteName" type="string" required="true()" />
      <bind nodeset="/data/r_date" type="date" required="true()"/>
      <bind nodeset="/data/r_GPS" type="geopoint" required="true()"/>
      <bind nodeset="/data/r_RiverName" type="string" required="true()" />
      <bind nodeset="/data/r_RiverBasin" type="string" required="true()" />
      <bind nodeset="/data/r_SiteSuitable" type="select1" required="true()"/>
      <bind nodeset="/data/r_EvidenceOfLarvae" type="select1" required="true()"/>
      <bind nodeset="/data/r_LarvaeRate" type="select1" required="true()" relevant="(selected(/data/r_EvidenceOfLarvae, 'Yes'))"/>
      <bind nodeset="/data/r_Notes" type="string"/>
    </model>
  </h:head>
  <h:body>
  
    <input ref="/data/r_RecorderID">
      <label ref="jr:itext('/data/r_RecorderID:label')"/>
      <hint ref="jr:itext('/data/r_RecorderID:hint')"/>
    </input>

    <!-- District Begin -->
    <select1 ref="/data/r_Province">
      <label ref="jr:itext('/data/r_Province:label')"/>
      <item>
        <label ref="jr:itext('/data/r_Province:option0')"/>
        <value>Manica</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_Province:option1')"/>
        <value>Niassa</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_Province:option2')"/>
        <value>Sofala</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_Province:option3')"/>
        <value>Tete</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_Province:option4')"/>
        <value>Other province</value>
      </item>
    </select1>
    <!-- District label End -->

    <!-- District Begin -->
    <select1 ref="/data/r_DistrictID">
      <label ref="jr:itext('/data/r_DistrictID:label')"/>
      <itemset nodeset="instance('districts')/root/item[r_Province= /data/r_Province ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    
    <!-- District label End -->
   <input ref="/data/r_SiteName">
      <label ref="jr:itext('/data/r_SiteName:label')"/>
      <hint ref="jr:itext('/data/r_SiteName:hint')"/>
    </input>

   <input ref="/data/r_date">
      <label ref="jr:itext('/data/r_date:label')"/>
    </input>

    <input ref="/data/r_GPS">
      <label ref="jr:itext('/data/r_GPS:label')"/>
      <hint ref="jr:itext('/data/r_GPS:hint')"/>
    </input>
    <input ref="/data/r_RiverName">
      <label ref="jr:itext('/data/r_RiverName:label')"/>
    </input>
    <input ref="/data/r_RiverBasin">
      <label ref="jr:itext('/data/r_RiverBasin:label')"/>
    </input>

    <select1 ref="/data/r_SiteSuitable">
      <label ref="jr:itext('/data/r_SiteSuitable:label')"/>
      <item>
        <label ref="jr:itext('/data/r_SiteSuitable:option0')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_SiteSuitable:option1')"/>
        <value>No</value>
      </item>
    </select1>

    <select1 ref="/data/r_EvidenceOfLarvae">
      <label ref="jr:itext('/data/r_EvidenceOfLarvae:label')"/>
      <item>
        <label ref="jr:itext('/data/r_EvidenceOfLarvae:option0')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_EvidenceOfLarvae:option1')"/>
        <value>No</value>
      </item>
    </select1>
    
    <select1 ref="/data/r_LarvaeRate">
      <label ref="jr:itext('/data/r_LarvaeRate:label')"/>
      <item>
        <label ref="jr:itext('/data/r_LarvaeRate:option0')"/>
        <value>-</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_LarvaeRate:option1')"/>
        <value>+ (1 - 10)</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_LarvaeRate:option2')"/>
        <value>++ (11 - 50)</value>
      </item>
      <item>
        <label ref="jr:itext('/data/r_LarvaeRate:option3')"/>
        <value>+++ (more than 50)</value>
      </item>
    </select1>

    <input ref="/data/r_Notes">
      <label ref="jr:itext('/data/r_Notes:label')"/>
    </input>
   
  </h:body>
</h:html>
