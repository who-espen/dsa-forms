<h:html xmlns="http://www.w3.org/2002/xforms" 
  xmlns:h="http://www.w3.org/1999/xhtml" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
  xmlns:jr="http://openrosa.org/javarosa">
  <h:head>
    <h:title>2. OIAS Participant v2 Sierra Leone</h:title>
    <model>
      <instance>
        <data id="OIAS_Participantv2_Sierra_leone">
          <meta>
            <instanceID/>
            <randomnum/>
          </meta>
          <p_StartTime/>
          <p_EndTime/>
          <p_RecorderID/>
          <p_DistrictID/>
          <p_site/>
          <p_village/>
          <p_village2/>
          <p_GPS/>
          <p_Consent/>
          <p_Sex/>
          <p_AgeYrs/>
          <p_IVM/>
          <p_IvmTimes/>
          <p_KnowIvmTimes/>
          <p_IDMethod/>
          <p_BarcodeID/>
          <p_GenerateID/>
          <p_ending_survey_note/>
          <p_AdditionalNotes/>
        </data>
      </instance>
      <itext>
        <translation lang="English">
          <text id="/data/p_RecorderID:label">
            <value>Enter Recorder ID</value>
          </text>
          <text id="/data/p_RecorderID:hint">
            <value>2 digit code assigned to you</value>
          </text>
          <text id="/data/p_DistrictID:label">
            <value>Select District</value>
          </text>
          <text id="/data/p_DistrictID:hint">
            <value></value>
          </text>
          <text id="/data/p_site:label">
            <value>Select Capture point</value>
          </text>
          <text id="/data/p_village:label">
            <value>Select Village</value>
          </text>
          <text id="/data/p_village2:label">
            <value>Enter village name</value>
          </text>
          <text id="/data/p_GPS:label">
            <value>Collect GPS Coordinates</value>
          </text>
          <text id="/data/p_GPS:hint">
            <value>Click the GPS button (works best outside)</value>
          </text>
          <text id="/data/p_Consent:label">
            <value>Did the child give assent, and parent or guardian consent?</value>
          </text>
          <text id="/data/p_Consent:hint">
            <value>No response will end survey</value>
          </text>
          <text id="/data/p_Consent:option0">
            <value>Yes</value>
          </text>
          <text id="/data/p_Consent:option1">
            <value>No</value>
          </text>
          <text id="/data/p_Sex:label">
            <value>Gender</value>
          </text>
          <text id="/data/p_Sex:option0">
            <value>Female</value>
          </text>
          <text id="/data/p_Sex:option1">
            <value>Male</value>
          </text>

          <!-- Begin age -->
          <text id="/data/p_AgeYrs:label">
            <value>Select the age</value>
          </text>
          <text id="/data/p_AgeYrs:option0">
            <value>Less than 5</value>
          </text>
          <text id="/data/p_AgeYrs:option1">
            <value>5</value>
          </text>
          <text id="/data/p_AgeYrs:option2">
            <value>6</value>
          </text>
          <text id="/data/p_AgeYrs:option3">
            <value>7</value>
          </text>
          <text id="/data/p_AgeYrs:option4">
            <value>8</value>
          </text>
          <text id="/data/p_AgeYrs:option5">
            <value>9</value>
          </text>
          <text id="/data/p_AgeYrs:option6">
            <value>10</value>
          </text>
          <text id="/data/p_AgeYrs:option7">
            <value>More than 10</value>
          </text>
          <!-- End age -->

          <text id="/data/p_IVM:label">
            <value>Have you ever taken Mectizan?</value>
          </text>
          <text id="/data/p_IVM:option0">
            <value>Yes</value>
          </text>
          <text id="/data/p_IVM:option1">
            <value>No</value>
          </text>
          <text id="/data/p_IVM:option2">
            <value>Don't know</value>
          </text>

          
          <text id="/data/p_KnowIvmTimes:label">
            <value>If yes, do you know how many time have you taken IVM?</value>
          </text>
          <text id="/data/p_KnowIvmTimes:option0">
            <value>Yes</value>
          </text>
          <text id="/data/p_KnowIvmTimes:option1">
            <value>No</value>
          </text>

          <text id="/data/p_IvmTimes:label">
            <value>If yes, how many times have you taken Mectizan?</value>
          </text>

          <text id="/data/p_IDMethod:label">
            <value>How will the individual's unique ID be generated?</value>
          </text>
          <text id="/data/p_IDMethod:option0">
            <value>Scanner</value>
          </text>
          <text id="/data/p_IDMethod:option1">
            <value>automatic ID generation</value>
          </text>
          <text id="/data/p_BarcodeID:label">
            <value>Scan barcode now</value>
          </text>
          <text id="/data/p_GenerateID:label">
            <value>Please record the following unique ID code for the respondent on a separate list and on each diagnostic test(s) adminstered, including Dry Blood Spot tests.</value>
          </text>
          <text id="/data/p_ending_survey_note:label">
            <value>You just entered a value that will end the survey</value>
          </text>
          <text id="/data/p_AdditionalNotes:label">
            <value>Additional notes</value>
          </text>
        </translation>
      </itext>
      <bind nodeset="/data/meta/instanceID" type="string" readonly="true()" calculate="concat('uuid:', uuid())"/>
      <bind nodeset="/data/p_StartTime" type="dateTime" jr:preload="timestamp" jr:preloadParams="start"/>
      <bind nodeset="/data/p_EndTime" type="dateTime" jr:preload="timestamp" jr:preloadParams="end"/>
      <bind nodeset="/data/meta/randomnum" type="string" calculate="substr(random(),3,8)"/>
      <bind nodeset="/data/p_RecorderID" type="int" required="true()" maxLength="2" constraint="regex(., '^[0-9]{2}$')" jr:constraintMsg="Invalid. Recorder ID code is 2 numbers long."/>
      <bind nodeset="/data/p_DistrictID" type="string" required="true()" db_get="col_1"/>
      <bind nodeset="/data/p_site" type="string" required="true()" db_get="col_3" db_filter_by_col_1="/data/p_DistrictID"/>
      <bind nodeset="/data/p_village" type="string" required="true()" db_get="col_4" db_filter_by_col_1="/data/p_DistrictID"/>
      <bind nodeset="/data/p_village2" type="string" required="true()" relevant="(selected(/data/p_village, 'Other'))"/>
      <bind nodeset="/data/p_GPS" type="geopoint" required="true()" relevant="(selected(/data/p_village, 'Other'))"/>
      <bind nodeset="/data/p_Consent" type="select1" required="true()"/>
      <bind nodeset="/data/p_Sex" type="select1" required="true()" relevant="(selected(/data/p_Consent, 'Yes'))  " />
      <bind nodeset="/data/p_AgeYrs" type="select1" required="true()" relevant="(selected(/data/p_Consent, 'Yes'))" />
      <bind nodeset="/data/p_IVM" type="select1" required="true()" relevant="(selected(/data/p_Consent, 'Yes')) and (/data/p_AgeYrs=5 or /data/p_AgeYrs=6 or /data/p_AgeYrs=7 or /data/p_AgeYrs=8 or /data/p_AgeYrs=9 or /data/p_AgeYrs=10) "/>
      <bind nodeset="/data/p_KnowIvmTimes" type="select1" required="true()" relevant="(selected(/data/p_IVM, 'Yes')) and (selected(/data/p_Consent, 'Yes')) and (/data/p_AgeYrs=5 or /data/p_AgeYrs=6 or /data/p_AgeYrs=7 or /data/p_AgeYrs=8 or /data/p_AgeYrs=9 or /data/p_AgeYrs=10)  "/>
      <bind nodeset="/data/p_IvmTimes" type="int" required="true()" relevant="(selected(/data/p_IVM, 'Yes')) and (selected(/data/p_Consent, 'Yes')) and (selected(/data/p_KnowIvmTimes, 'Yes')) and (/data/p_AgeYrs=5 or /data/p_AgeYrs=6 or /data/p_AgeYrs=7 or /data/p_AgeYrs=8 or /data/p_AgeYrs=9 or /data/p_AgeYrs=10) "/>

      <bind nodeset="/data/p_IDMethod" type="select1" required="true()" relevant="(selected(/data/p_Consent, 'Yes')) and (/data/p_AgeYrs=5 or /data/p_AgeYrs=6 or /data/p_AgeYrs=7 or /data/p_AgeYrs=8 or /data/p_AgeYrs=9 or /data/p_AgeYrs=10) "/>
      <bind nodeset="/data/p_BarcodeID" type="barcode" required="true()" relevant="(selected(/data/p_Consent, 'Yes')) and (selected(/data/p_IDMethod, 'Scanner')) and (/data/p_AgeYrs=5 or /data/p_AgeYrs=6 or /data/p_AgeYrs=7 or /data/p_AgeYrs=8 or /data/p_AgeYrs=9 or /data/p_AgeYrs=10) "/>
      <bind nodeset="/data/p_GenerateID" type="string" required="true()" readonly="true()" relevant="(selected(/data/p_Consent, 'Yes')) and (selected(/data/p_IDMethod, 'IDGeneration')) " calculate="concat('SLE', '_', /data/p_village, '_GEN_', /data/meta/randomnum) "/>
      <bind nodeset="/data/p_ending_survey_note" readonly="true()" relevant="(selected(/data/p_Consent, 'No')) or (selected(/data/p_AgeYrs, 'Less than 5')) or (selected(/data/p_AgeYrs, 'More than 10'))" type="string"/>

      <bind nodeset="/data/p_AdditionalNotes" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/p_RecorderID">
      <label ref="jr:itext('/data/p_RecorderID:label')"/>
      <hint ref="jr:itext('/data/p_RecorderID:hint')"/>
    </input>
    <input ref="/data/p_DistrictID">
      <label ref="jr:itext('/data/p_DistrictID:label')"/>
      <hint ref="jr:itext('/data/p_DistrictID:hint')"/>
    </input>
    <input ref="/data/p_site">
      <label ref="jr:itext('/data/p_site:label')"/>
    </input>
    <input ref="/data/p_village">
      <label ref="jr:itext('/data/p_village:label')"/>
    </input>
    
    <input ref="/data/p_village2">
      <label ref="jr:itext('/data/p_village2:label')"/>
    </input>
        
    <input ref="/data/p_GPS">
      <label ref="jr:itext('/data/p_GPS:label')"/>
      <hint ref="jr:itext('/data/p_GPS:hint')"/>
    </input>

    <select1 ref="/data/p_Consent">
      <label ref="jr:itext('/data/p_Consent:label')"/>
      <hint ref="jr:itext('/data/p_Consent:hint')"/>
      <item>
        <label ref="jr:itext('/data/p_Consent:option0')"/>
        <hint ref="jr:itext('/data/p_Consent:hint')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_Consent:option1')"/>
        <value>No</value>
      </item>
    </select1>

    <select1 ref="/data/p_Sex">
      <label ref="jr:itext('/data/p_Sex:label')"/>
      <item>
        <label ref="jr:itext('/data/p_Sex:option0')"/>
        <value>Female</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_Sex:option1')"/>
        <value>Male</value>
      </item>
    </select1>
    <select1 ref="/data/p_AgeYrs">
      <label ref="jr:itext('/data/p_AgeYrs:label')"/>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option0')"/>
        <value>Less than 5</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option1')"/>
        <value>5</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option2')"/>
        <value>6</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option3')"/>
        <value>7</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option4')"/>
        <value>8</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option5')"/>
        <value>9</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option6')"/>
        <value>10</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_AgeYrs:option7')"/>
        <value>More than 10</value>
      </item>
    </select1>

    
    <select1 ref="/data/p_IVM">
      <label ref="jr:itext('/data/p_IVM:label')"/>
      <item>
        <label ref="jr:itext('/data/p_IVM:option0')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_IVM:option1')"/>
        <value>No</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_IVM:option2')"/>
        <value>DontKnow</value>
      </item>
    </select1>    

    <select1 ref="/data/p_KnowIvmTimes">
      <label ref="jr:itext('/data/p_KnowIvmTimes:label')"/>
      <item>
        <label ref="jr:itext('/data/p_KnowIvmTimes:option0')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_KnowIvmTimes:option1')"/>
        <value>No</value>
      </item>
    </select1>

    <input ref="/data/p_IvmTimes">
      <label ref="jr:itext('/data/p_IvmTimes:label')"/>
    </input>    

    <select1 ref="/data/p_IDMethod">
      <label ref="jr:itext('/data/p_IDMethod:label')"/>
      <item>
        <label ref="jr:itext('/data/p_IDMethod:option0')"/>
        <value>Scanner</value>
      </item>
      <item>
        <label ref="jr:itext('/data/p_IDMethod:option1')"/>
        <value>IDGeneration</value>
      </item>
    </select1>

    <input ref="/data/p_BarcodeID">
      <label ref="jr:itext('/data/p_BarcodeID:label')"/>
    </input>
    <input ref="/data/p_GenerateID">
      <label ref="jr:itext('/data/p_GenerateID:label')"/>
    </input>
    <input ref="/data/p_ending_survey_note">
      <label ref="jr:itext('/data/p_ending_survey_note:label')"/>
    </input>
    <input ref="/data/p_AdditionalNotes">
      <label ref="jr:itext('/data/p_AdditionalNotes:label')"/>
    </input>
  </h:body>
</h:html>
