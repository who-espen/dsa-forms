<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>2. Fiche de collecte des Simulies par équipe</h:title>
    <model >
      <instance>
        <data id="cg_oncho_bsc_2_capture_202010" version="20201023">
          <b_recorder_id/>
          <b_district/>
          <b_site/>
          <b_code_team/>
          <b_captor_initial/>
          <b_hour/>
          <b_nb_blackflies/>
          <b_weather/>
          <b_notes/>
          <b_start/>
          <b_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>
      <bind constraint="regex(.,'^[0-9]{2}$')" jr:constraintMsg="Le code doit être un nombre à deux chiffres entre 9 et 1000" nodeset="/data/b_recorder_id" required="true()" type="int"/>
      <bind nodeset="/data/b_district" required="true()" type="string" db_get="col_1"/>
      <bind nodeset="/data/b_site" required="true()" type="string"  db_get="col_2" db_filter_by_col_1="/data/b_district"/>
      <bind nodeset="/data/b_code_team" required="true()" type="int"/>
      <bind constraint="regex(.,'^[a-zA-Z0-9]{2,5}$')" jr:constraintMsg="La longueur des initiales doit être comprise entre 2 et 5" nodeset="/data/b_captor_initial" required="true()" type="string"/>
      <bind nodeset="/data/b_hour" required="true()" type="string"/>
      <bind nodeset="/data/b_nb_blackflies" required="true()" type="int"/>
      <bind nodeset="/data/b_weather" required="true()" type="string"/>
      <bind nodeset="/data/b_notes" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/b_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/b_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/b_recorder_id">
      <label>Entrer l'identifiant de l'enregistreur</label>
      <hint>Code à deux chiffres qui vous a été assigné</hint>
    </input>
    <input ref="/data/b_district">
      <label>Sélectionner un district (UI)</label>
    </input>
    <input ref="/data/b_site">
      <label>Sélectionner le site ID</label>
    </input>
    <input ref="/data/b_code_team">
      <label>Equipe de capture N°</label>
    </input>
    <input ref="/data/b_captor_initial">
      <label>Initiales du captureur</label>
    </input>
    <select1 ref="/data/b_hour">
      <label>Sélectionner l'heure</label>
      <item>
        <label>7:00 - 8:00</label>
        <value>7:00 - 8:00</value>
      </item>
      <item>
        <label>8:00 - 9:00</label>
        <value>8:00 - 9:00</value>
      </item>
      <item>
        <label>9:00 - 10:00</label>
        <value>9:00 - 10:00</value>
      </item>
      <item>
        <label>10:00 - 11:00</label>
        <value>10:00 - 11:00</value>
      </item>
      <item>
        <label>11:00 - 12:00</label>
        <value>11:00 - 12:00</value>
      </item>
      <item>
        <label>12:00 - 13:00</label>
        <value>12:00 - 13:00</value>
      </item>
      <item>
        <label>13:00 - 14:00</label>
        <value>13:00 - 14:00</value>
      </item>
      <item>
        <label>14:00 - 15:00</label>
        <value>14:00 - 15:00</value>
      </item>
      <item>
        <label>15:00 - 16:00</label>
        <value>15:00 - 16:00</value>
      </item>
      <item>
        <label>16:00 - 17:00</label>
        <value>16:00 - 17:00</value>
      </item>
    </select1>
    <input ref="/data/b_nb_blackflies">
      <label>Nombre de simulies capturées</label>
    </input>
    <select1 ref="/data/b_weather">
      <label>Observation climatique</label>
      <item>
        <label>Nuageux</label>
        <value>Cloudy</value>
      </item>
      <item>
        <label>Pluvieux</label>
        <value>Rainy</value>
      </item>
      <item>
        <label>Ensoleillé</label>
        <value>Sunny</value>
      </item>
    </select1>
    <input ref="/data/b_notes">
      <label>Informations additionnelles</label>
    </input>
  </h:body>
</h:html>
