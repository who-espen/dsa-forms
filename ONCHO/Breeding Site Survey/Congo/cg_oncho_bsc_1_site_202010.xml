<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>1. Prospection des gîtes larvaires V2</h:title>
    <model >
      <instance>
        <data id="cg_oncho_bsc_1_site_202010_v2" version="20201023">
          <s_recorder_id/>
          <s_province/>
          <s_district/>
          <s_team/>
          <s_code_team/>
          <s_river_basin_name/>
          <s_river_name/>
          <s_site_id/>
          <s_GPS/>
          <s_density/>
          <s_temperature/>
          <s_notes/>
          <s_start/>
          <s_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <instance id="region_list">
        <root>
          <item>
            <label>Bouenza</label>
            <name>Bouenza</name>
          </item>
          <item>
            <label>Niari</label>
            <name>Niari</name>
          </item>
          <item>
            <label>Pool</label>
            <name>Pool</name>
          </item>
        </root>
      </instance>

      <instance id="district_list">
        <root>
          <item>
            <label>Boko</label>
            <name>Boko</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Dolisie</label>
            <name>Dolisie</name>
            <region_list>Niari</region_list>
          </item>
          <item>
            <label>Goma Tse-Tse</label>
            <name>Goma Tse-Tse</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Igne-Ngabe-Mayama</label>
            <name>Igne-Ngabe-Mayama</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Kibangou</label>
            <name>Kibangou</name>
            <region_list>Niari</region_list>
          </item>
          <item>
            <label>Kimongo</label>
            <name>Kimongo</name>
            <region_list>Niari</region_list>
          </item>
          <item>
            <label>Kindamba</label>
            <name>Kindamba</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Kinkala</label>
            <name>Kinkala</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Kintele</label>
            <name>Kintele</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Loudima</label>
            <name>Loudima</name>
            <region_list>Bouenza</region_list>
          </item>
          <item>
            <label>Loutete</label>
            <name>Loutete</name>
            <region_list>Bouenza</region_list>
          </item>
          <item>
            <label>Madingou</label>
            <name>Madingou</name>
            <region_list>Bouenza</region_list>
          </item>
          <item>
            <label>Mayoko</label>
            <name>Mayoko</name>
            <region_list>Niari</region_list>
          </item>
          <item>
            <label>Mindouli</label>
            <name>Mindouli</name>
            <region_list>Pool</region_list>
          </item>
          <item>
            <label>Mossendjo</label>
            <name>Mossendjo</name>
            <region_list>Niari</region_list>
          </item>
          <item>
            <label>Mouyondzi</label>
            <name>Mouyondzi</name>
            <region_list>Bouenza</region_list>
          </item>
          <item>
            <label>Nkayi</label>
            <name>Nkayi</name>
            <region_list>Bouenza</region_list>
          </item>
        </root>
      </instance>

      <instance id="yesNoDontKnow">
        <root>
          <item>
            <label>Oui</label>
            <name>Yes</name>
          </item>
          <item>
            <label>Non</label>
            <name>No</name>
          </item>
          <item>
            <label>Ne sais pas</label>
            <name>Don't know</name>
          </item>
        </root>
      </instance>

      <instance id="densite_List">
        <root>
          <item>
            <label>(-) : Gîte négatif</label>
            <name>-</name>
          </item>
          <item>
            <label>(+) : 10 Individus au moins</label>
            <name>+</name>
          </item>
          <item>
            <label>(++) : 11 à 50 individus</label>
            <name>++</name>
          </item>
          <item>
            <label>(+++) : Plus de 50 individus</label>
            <name>+++</name>
          </item>
        </root>
      </instance>
      <bind constraint="regex(.,'^[0-9]{2}$')" jr:constraintMsg="Le code doit être un nombre à deux chiffres entre 9 et 1000" nodeset="/data/s_recorder_id" required="true()" type="int"/>
      <bind nodeset="/data/s_province" required="true()" type="string"/>
      <bind nodeset="/data/s_district" required="true()" type="string"/>
      <bind nodeset="/data/s_team" required="true()" type="string"/>
      <bind nodeset="/data/s_code_team" required="true()" type="int"/>
      <bind nodeset="/data/s_river_basin_name" required="true()" type="string"/>
      <bind nodeset="/data/s_river_name" required="true()" type="string"/>
      <bind nodeset="/data/s_site_id" required="true()" type="string"/>
      <bind nodeset="/data/s_GPS" required="true()" type="geopoint"/>
      <bind nodeset="/data/s_density" required="true()" type="string"/>
      <bind constraint=". &gt; 0 and . &lt; 80" jr:constraintMsg="La température n'est pas valide" nodeset="/data/s_temperature" required="true()" type="decimal"/>
      <bind nodeset="/data/s_notes" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/s_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/s_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/s_recorder_id">
      <label>Entrer l'identifiant de l'enregistreur</label>
      <hint>Code à deux chiffres qui vous a été assigné</hint>
    </input>
    <select1 ref="/data/s_province">
      <label>Sélectionner un département</label>
      <item>
        <label>Bouenza</label>
        <value>Bouenza</value>
      </item>
      <item>
        <label>Niari</label>
        <value>Niari</value>
      </item>
      <item>
        <label>Pool</label>
        <value>Pool</value>
      </item>
    </select1>
    <select1 ref="/data/s_district">
      <label>Sélectionner un district</label>
      <itemset nodeset="instance('district_list')/root/item[region_list= /data/s_province ]">
        <value ref="name"/>
        <label ref="label"/>
      </itemset>
    </select1>
    <input ref="/data/s_team">
      <label>Equipe de prospection</label>
    </input>
    <input ref="/data/s_code_team">
      <label>N° de l'équipe</label>
    </input>
    <input ref="/data/s_river_basin_name">
      <label>Nom du bassin fluvial</label>
    </input>
    <input ref="/data/s_river_name">
      <label>Nom du fleuve ou de la rivière</label>
    </input>
    <input ref="/data/s_site_id">
      <label>Gîte larvaire (Village le plus proche)</label>
    </input>
    <input ref="/data/s_GPS">
      <label>Collectez les données GPS</label>
      <hint>Fonctionne mieux à l'extérieur des bâtiments</hint>
    </input>
    <select1 ref="/data/s_density">
      <label>Densité des larves</label>
      <item>
        <label>(-) : Gîte négatif</label>
        <value>-</value>
      </item>
      <item>
        <label>(+) : 10 Individus au moins</label>
        <value>+</value>
      </item>
      <item>
        <label>(++) : 11 à 50 individus</label>
        <value>++</value>
      </item>
      <item>
        <label>(+++) : Plus de 50 individus</label>
        <value>+++</value>
      </item>
    </select1>
    <input ref="/data/s_temperature">
      <label>Température eau (°c)</label>
    </input>
    <input ref="/data/s_notes">
      <label>Informations additionnelles</label>
    </input>
  </h:body>
</h:html>

