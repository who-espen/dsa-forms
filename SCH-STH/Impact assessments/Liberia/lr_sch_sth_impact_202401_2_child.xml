<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(2024 Jan) - 2. SCH/STH â€“ Participant data entry form V2.1</h:title>
    <model>

      <instance>
        <data id="lr_sch_sth_impact_202401_2_child_v2_1">
          <p_recorder/>
          <p_district/>
          <p_location/>
          <p_school_name/>
          <p_schoo_id/>
          <p_consent_note/>
          <C1/>
          <lr_p_202401_v2_1 jr:template="">
            <C2/>
            <C3/>
            <p_consent/>
            <p_assent/>
            <p_index/>
            <p_code_id/>
            <p_age_yrs/>
            <p_sex/>
            <p_stoolsucces/>
            <p_urinesucces/>
            <p_child_treat/>
            <p_always_lived/>
            <p_long_lived/>
            <p_water_play/>
            <p_water_fish/>
            <p_ending_survey_note/>
            <p_remarks/>
          </lr_p_202401_v2_1>
          <p_start/>
          <p_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation default="true()" lang="English">
          <text id="/data/lr_p_202401_v2_1/p_remarks:label">
            <value>Additional notes</value>
          </text>
          <text id="/data/p_recorder:jr:constraintMsg">
            <value>Must be two digit between 9 and 100</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_stoolsucces:label">
            <value>Was a stool sample successfully collected from this person?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_long_lived/In the last year:label">
            <value>In the last year</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_water_play/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_age_yrs:jr:constraintMsg">
            <value>Age must be between 10 and 14 years old</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_consent/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_long_lived/Cannot remember:label">
            <value>Can't remember</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_sex/Female:label">
            <value>Female</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_always_lived/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_index:label">
            <value>Please inter the child sequence number</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_water_fish:label">
            <value>Did you go fishing in nearby rivers, streams or ponds in the last week?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_stoolsucces/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_always_lived:label">
            <value>Have you always lived here, in this community?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_ending_survey_note:label">
            <value>You have just entered a value which will end the survey</value>
          </text>
          <text id="/data/p_recorder:hint">
            <value>The two digit code assigned to you</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_assent/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_age_yrs:label">
            <value>Enter the age in years</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_stoolsucces/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_consent:hint">
            <value>The answer "No" will end the survey</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_code_id:label">
            <value>Participant ID</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_child_treat/Do not remember:label">
            <value>Do not remember</value>
          </text>
          <text id="/data/p_recorder:label">
            <value>Recorder code</value>
          </text>
          <text id="/data/p_school_name:label">
            <value>Select the school name</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_code_id:hint">
            <value>Copy this code into all registers and sample pots</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_water_fish/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_urinesucces:label">
            <value>Was a urine sample successfully collected from this person?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_child_treat/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_water_play:label">
            <value>Did you bathe, swim or play in nearby rivers, streams or ponds in the last week?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_always_lived/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_consent:label">
            <value>Did parent or guardian or head teacher consent?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_consent/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_water_play/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_water_fish/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_long_lived:label">
            <value>If no, when did you move here?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_child_treat:label">
            <value>Have you ever been treated with PZQ? (show tablet, or photo of tablet)</value>
          </text>
          <text id="/data/p_consent_note:label">
            <value>Good morning ! I am here on behalf of the Ministry of Health. We are conducting a survey to determine the presence of schistosomiasis (SCH) and soil-transmitted helminthiasis (STH) in your school. I will ask you some questions about the mode and mechanism of transmission and would also appreciate collecting stool and urine samples from you. If you would like to participate in the survey, let me know and I will record your responses and provide you with stool and urine containers. If you agree, the survey will only take a few minutes. Participating in the school survey will directly benefit you because if worms are diagnosed, you will immediately receive deworming medication. Your community and school will also benefit directly, as the results of this survey will help the Ministry of Health implement deworming activities for children aged 10 to 14 years, if laboratory results reveal the need for interventions. You can refuse without penalty. Would you like to participate in our survey?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_assent:hint">
            <value>The answer "No" will end the survey</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_long_lived/More than one year ago:label">
            <value>More than one year ago</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_stoolsucces:hint">
            <value>We do not want to go back if they do not give a sample because we cannot guarantee that there will be no exchange of samples.</value>
          </text>
          <text id="/data/p_schoo_id:label">
            <value>Select the school ID</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_sex/Male:label">
            <value>Male</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_child_treat/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/p_location:label">
            <value>Select the location</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_assent/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_sex:label">
            <value>Select the sex</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_assent:label">
            <value>Did the child give assent?</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_urinesucces/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_urinesucces/No:label">
            <value>No</value>
          </text>
          <text id="/data/lr_p_202401_v2_1/p_index:jr:constraintMsg">
            <value>The index must be used only once in the school and should be between 1 and 32</value>
          </text>
          <text id="/data/lr_p_202401_v2_1:label">
            <value>Participants</value>
          </text>
          <text id="/data/p_district:label">
            <value>Select the district</value>
          </text>
        </translation>
      </itext>

      <bind constraint="regex(., '^[0-9]{2}$')" jr:constraintMsg="jr:itext('/data/p_recorder:jr:constraintMsg')" nodeset="/data/p_recorder" required="true()" type="int"/>
      <bind nodeset="/data/p_district" required="true()" type="string" db_get="col_1"/>
      <bind nodeset="/data/p_location" required="true()" type="string" db_get="col_2" db_filter_by_col_1="/data/p_district"/>
      <bind nodeset="/data/p_school_name" required="true()" type="string" db_get="col_3" db_filter_by_col_2="/data/p_location"/>
      <bind nodeset="/data/p_schoo_id" required="true()" type="string" db_get="col_4" db_filter_by_col_3="/data/p_school_name"/>
      <bind nodeset="/data/p_consent_note" readonly="true()" type="string"/>
      <bind calculate="join(' ',  /data/lr_p_202401_v2_1/p_index )" nodeset="/data/C1" type="string"/>
      <bind calculate="position(..)" nodeset="/data/lr_p_202401_v2_1/C2" type="string"/>
      <bind calculate="if ( ../C2  = 1,'',substring-after( /data/C1 , ../p_index ))" nodeset="/data/lr_p_202401_v2_1/C3" type="string"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_consent" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_assent" required="true()" type="select1"/>
      <bind constraint="not(selected( ../C3 ,  ../p_index )) and regex(., '^(?:[1-9]|[12]\d|3[0-2])$')" jr:constraintMsg="jr:itext('/data/lr_p_202401_v2_1/p_index:jr:constraintMsg')" nodeset="/data/lr_p_202401_v2_1/p_index" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="string"/>
      <bind calculate="concat( /data/p_schoo_id , '_',  ../p_index )" nodeset="/data/lr_p_202401_v2_1/p_code_id" readonly="true()" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="string" db_add_col_4="/data/p_schoo_id" db_add_col_5="."/>
      <bind constraint=". &gt;= 10 and . &lt;= 14" jr:constraintMsg="jr:itext('/data/lr_p_202401_v2_1/p_age_yrs:jr:constraintMsg')" nodeset="/data/lr_p_202401_v2_1/p_age_yrs" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="int"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_sex" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_stoolsucces" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_urinesucces" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_child_treat" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_always_lived" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_long_lived" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes' and  ../p_always_lived  = 'No'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_water_play" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_water_fish" relevant=" ../p_consent  = 'Yes' and  ../p_assent  = 'Yes'" required="true()" type="select1"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_ending_survey_note" readonly="true()" relevant=" ../p_consent  = 'No' or  ../p_assent  = 'No'" type="string"/>
      <bind nodeset="/data/lr_p_202401_v2_1/p_remarks" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/p_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/p_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/p_recorder">
      <label ref="jr:itext('/data/p_recorder:label')"/>
      <hint ref="jr:itext('/data/p_recorder:hint')"/>
    </input>
    <input ref="/data/p_district">
      <label ref="jr:itext('/data/p_district:label')"/>
    </input>
    <input ref="/data/p_location">
      <label ref="jr:itext('/data/p_location:label')"/>
    </input>
    <input ref="/data/p_school_name">
      <label ref="jr:itext('/data/p_school_name:label')"/>
    </input>
    <input ref="/data/p_schoo_id">
      <label ref="jr:itext('/data/p_schoo_id:label')"/>
    </input>
    <input ref="/data/p_consent_note">
      <label ref="jr:itext('/data/p_consent_note:label')"/>
    </input>
    <group ref="/data/lr_p_202401_v2_1">
      <label ref="jr:itext('/data/lr_p_202401_v2_1:label')"/>
      <repeat nodeset="/data/lr_p_202401_v2_1">
        <select1 ref="/data/lr_p_202401_v2_1/p_consent">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_consent:label')"/>
          <hint ref="jr:itext('/data/lr_p_202401_v2_1/p_consent:hint')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_consent/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_consent/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_assent">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_assent:label')"/>
          <hint ref="jr:itext('/data/lr_p_202401_v2_1/p_assent:hint')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_assent/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_assent/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <input ref="/data/lr_p_202401_v2_1/p_index">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_index:label')"/>
        </input>
        <input ref="/data/lr_p_202401_v2_1/p_code_id">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_code_id:label')"/>
          <hint ref="jr:itext('/data/lr_p_202401_v2_1/p_code_id:hint')"/>
        </input>
        <input ref="/data/lr_p_202401_v2_1/p_age_yrs">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_age_yrs:label')"/>
        </input>
        <select1 ref="/data/lr_p_202401_v2_1/p_sex">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_sex:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_sex/Male:label')"/>
            <value>Male</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_sex/Female:label')"/>
            <value>Female</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_stoolsucces">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_stoolsucces:label')"/>
          <hint ref="jr:itext('/data/lr_p_202401_v2_1/p_stoolsucces:hint')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_stoolsucces/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_stoolsucces/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_urinesucces">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_urinesucces:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_urinesucces/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_urinesucces/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_child_treat">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_child_treat:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_child_treat/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_child_treat/No:label')"/>
            <value>No</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_child_treat/Do not remember:label')"/>
            <value>Do not remember</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_always_lived">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_always_lived:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_always_lived/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_always_lived/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_long_lived">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_long_lived:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_long_lived/In the last year:label')"/>
            <value>In the last year</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_long_lived/More than one year ago:label')"/>
            <value>More than one year ago</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_long_lived/Cannot remember:label')"/>
            <value>Cannot remember</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_water_play">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_water_play:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_water_play/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_water_play/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <select1 ref="/data/lr_p_202401_v2_1/p_water_fish">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_water_fish:label')"/>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_water_fish/Yes:label')"/>
            <value>Yes</value>
          </item>
          <item>
            <label ref="jr:itext('/data/lr_p_202401_v2_1/p_water_fish/No:label')"/>
            <value>No</value>
          </item>
        </select1>
        <input ref="/data/lr_p_202401_v2_1/p_ending_survey_note">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_ending_survey_note:label')"/>
        </input>
        <input ref="/data/lr_p_202401_v2_1/p_remarks">
          <label ref="jr:itext('/data/lr_p_202401_v2_1/p_remarks:label')"/>
        </input>
      </repeat>
    </group>
  </h:body>
</h:html>
