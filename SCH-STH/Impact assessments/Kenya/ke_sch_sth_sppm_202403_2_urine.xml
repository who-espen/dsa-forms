<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(2024 Mar) - 3. SCH/STH â€“ Urine</h:title>
    <model>

      <instance>
        <data id="ke_sch_sth_sppm_202403_2_urine">
          <SAMPLE_COLLECTION_FORM/>
          <u_Team_Number/>
          <Other_Specify/>
          <u_County/>
          <u_School/>
          <u_School_id/>
          <C1/>
          <ke_u_202403 jr:template="">
            <u_id_type/>
            <Child_ID_Survey_Barcode/>
            <Child_ID_Enter/>
            <Re_enter_Child_ID/>
            <u_code_id_calculate/>
            <C2/>
            <C3/>
            <u_code_id/>
            <Schistosom_Hematobium/>
            <Notes_Comments/>
          </ke_u_202403>
          <u_start/>
          <u_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation default="true()" lang="English">
          <text id="/data/SAMPLE_COLLECTION_FORM:label">
            <value>Urine Filtration Lab Reporting Form</value>
          </text>
          <text id="/data/u_School:label">
            <value>School</value>
          </text>
          <text id="/data/ke_u_202403/u_id_type:label">
            <value>Will you scann the barcode or enter the code manualy</value>
          </text>
          <text id="/data/u_School_id:label">
            <value>School ID</value>
          </text>
          <text id="/data/u_Team_Number/team_2:label">
            <value>Team 2</value>
          </text>
          <text id="/data/ke_u_202403/Child_ID_Survey_Barcode:label">
            <value>Child ID Survey Barcode</value>
          </text>
          <text id="/data/ke_u_202403/Child_ID_Enter:hint">
            <value>6 Digits</value>
          </text>
          <text id="/data/u_Team_Number/team_3:label">
            <value>Team 3</value>
          </text>
          <text id="/data/ke_u_202403/Re_enter_Child_ID:jr:constraintMsg">
            <value>ID MUST be same as previous one</value>
          </text>
          <text id="/data/ke_u_202403/Re_enter_Child_ID:label">
            <value>Re enter Child ID</value>
          </text>
          <text id="/data/ke_u_202403/u_code_id:label">
            <value>Registered Child ID</value>
          </text>
          <text id="/data/ke_u_202403/Child_ID_Enter:jr:constraintMsg">
            <value>Out of range! Must be between 400000 and 500000</value>
          </text>
          <text id="/data/ke_u_202403/u_id_type/Manual:label">
            <value>Manual</value>
          </text>
          <text id="/data/ke_u_202403/Notes_Comments:label">
            <value>Notes/Comments</value>
          </text>
          <text id="/data/ke_u_202403/u_code_id:jr:constraintMsg">
            <value>This ID has already been entered go back and change it</value>
          </text>
          <text id="/data/u_Team_Number/team_1:label">
            <value>Team 1</value>
          </text>
          <text id="/data/ke_u_202403/Schistosom_Hematobium:hint">
            <value>enter count</value>
          </text>
          <text id="/data/u_Team_Number/team_6:label">
            <value>Team 6</value>
          </text>
          <text id="/data/ke_u_202403/Child_ID_Survey_Barcode:jr:constraintMsg">
            <value>Remove response, swipe forward to enter manually</value>
          </text>
          <text id="/data/u_Team_Number/team_5:label">
            <value>Team 5</value>
          </text>
          <text id="/data/ke_u_202403/Notes_Comments:hint">
            <value>If nothing to note or comment, swipe to continue</value>
          </text>
          <text id="/data/ke_u_202403/Child_ID_Enter:label">
            <value>Child ID Enter</value>
          </text>
          <text id="/data/ke_u_202403/Re_enter_Child_ID:hint">
            <value>Enter exact as previous</value>
          </text>
          <text id="/data/Other_Specify:label">
            <value>Other Specify</value>
          </text>
          <text id="/data/u_Team_Number/team_4:label">
            <value>Team 4</value>
          </text>
          <text id="/data/ke_u_202403/Schistosom_Hematobium:label">
            <value>Schistosoma Hematobium</value>
          </text>
          <text id="/data/ke_u_202403/u_id_type/Scanner:label">
            <value>Scanner</value>
          </text>
          <text id="/data/ke_u_202403:label">
            <value>Urine Slide</value>
          </text>
          <text id="/data/u_Team_Number/other:label">
            <value>Other</value>
          </text>
          <text id="/data/u_County:label">
            <value>County</value>
          </text>
          <text id="/data/u_Team_Number/team_7:label">
            <value>Team 7</value>
          </text>
          <text id="/data/u_Team_Number:label">
            <value>Team Number</value>
          </text>
        </translation>
      </itext>

      <bind nodeset="/data/SAMPLE_COLLECTION_FORM" readonly="true()" required="false()" type="string"/>
      <bind nodeset="/data/u_Team_Number" required="true()" type="select1"/>
      <bind nodeset="/data/Other_Specify" relevant=" /data/u_Team_Number  = 'other'" required="false()" type="string"/>
      <bind nodeset="/data/u_County" required="false()" type="string" db_get="col_1"/>
      <bind nodeset="/data/u_School" required="false()" type="string" db_get="col_2" db_filter_by_col_1="/data/u_County"/>
      <bind nodeset="/data/u_School_id" required="true()" type="string" db_get="col_3" db_filter_by_col_2="/data/u_School"/>
      <bind calculate="join(' ',  /data/ke_u_202403/u_code_id )" nodeset="/data/C1" type="text"/>
      <bind nodeset="/data/ke_u_202403" required="false()"/>
      <bind nodeset="/data/ke_u_202403/u_id_type" required="true()" type="select1"/>
      <bind constraint="regex(., '^(400000|4[0-9]{5}|500000)$')" jr:constraintMsg="jr:itext('/data/ke_u_202403/Child_ID_Survey_Barcode:jr:constraintMsg')" nodeset="/data/ke_u_202403/Child_ID_Survey_Barcode" relevant=" ../u_id_type  = 'Scanner'" required="false()" type="barcode"/>
      <bind constraint=". &gt; 400000 and . &lt; 500000" jr:constraintMsg="jr:itext('/data/ke_u_202403/Child_ID_Enter:jr:constraintMsg')" nodeset="/data/ke_u_202403/Child_ID_Enter" relevant=" ../u_id_type != 'Scanner'" required="true()" type="int"/>
      <bind constraint=". =  ../Child_ID_Enter " jr:constraintMsg="jr:itext('/data/ke_u_202403/Re_enter_Child_ID:jr:constraintMsg')" nodeset="/data/ke_u_202403/Re_enter_Child_ID" relevant=" ../u_id_type != 'Scanner'" required="true()" type="int"/>
      <bind calculate="if( ../u_id_type  = 'Scanner', concat( ../Child_ID_Survey_Barcode ) ,concat( ../Child_ID_Enter ))" nodeset="/data/ke_u_202403/u_code_id_calculate" type="string"/>
      <bind calculate="position(..)" nodeset="/data/ke_u_202403/C2" type="text"/>
      <bind calculate="if ( ../C2  = 1,'',substring-after( /data/C1 , ../u_code_id ))" nodeset="/data/ke_u_202403/C3" type="text"/>
      <bind calculate="concat( ../u_code_id_calculate )" constraint="not(selected( ../C3 ,  ../u_code_id ))" jr:constraintMsg="jr:itext('/data/ke_u_202403/u_code_id:jr:constraintMsg')" nodeset="/data/ke_u_202403/u_code_id" readonly="true()" required="true()" type="string" db_get="col_4" db_filter_by_col_3="/data/u_School_id"/>
      <bind nodeset="/data/ke_u_202403/Schistosom_Hematobium" required="true()" type="int"/>
      <bind nodeset="/data/ke_u_202403/Notes_Comments" required="false()" type="text"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/u_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/u_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/SAMPLE_COLLECTION_FORM">
      <label ref="jr:itext('/data/SAMPLE_COLLECTION_FORM:label')"/>
    </input>
    <select1 ref="/data/u_Team_Number">
      <label ref="jr:itext('/data/u_Team_Number:label')"/>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_1:label')"/>
        <value>team_1</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_2:label')"/>
        <value>team_2</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_3:label')"/>
        <value>team_3</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_4:label')"/>
        <value>team_4</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_5:label')"/>
        <value>team_5</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_6:label')"/>
        <value>team_6</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/team_7:label')"/>
        <value>team_7</value>
      </item>
      <item>
        <label ref="jr:itext('/data/u_Team_Number/other:label')"/>
        <value>other</value>
      </item>
    </select1>
    <input ref="/data/Other_Specify">
      <label ref="jr:itext('/data/Other_Specify:label')"/>
    </input>
    <input ref="/data/u_County">
      <label ref="jr:itext('/data/u_County:label')"/>
    </input>
    <input ref="/data/u_School">
      <label ref="jr:itext('/data/u_School:label')"/>
    </input>
    <input ref="/data/u_School_id">
      <label ref="jr:itext('/data/u_School_id:label')"/>
    </input>
    <group ref="/data/ke_u_202403">
      <label ref="jr:itext('/data/ke_u_202403:label')"/>
      <repeat nodeset="/data/ke_u_202403">
        <select1 ref="/data/ke_u_202403/u_id_type">
          <label ref="jr:itext('/data/ke_u_202403/u_id_type:label')"/>
          <item>
            <label ref="jr:itext('/data/ke_u_202403/u_id_type/Scanner:label')"/>
            <value>Scanner</value>
          </item>
          <item>
            <label ref="jr:itext('/data/ke_u_202403/u_id_type/Manual:label')"/>
            <value>Manual</value>
          </item>
        </select1>
        <input ref="/data/ke_u_202403/Child_ID_Survey_Barcode">
          <label ref="jr:itext('/data/ke_u_202403/Child_ID_Survey_Barcode:label')"/>
        </input>
        <input ref="/data/ke_u_202403/Child_ID_Enter">
          <label ref="jr:itext('/data/ke_u_202403/Child_ID_Enter:label')"/>
          <hint ref="jr:itext('/data/ke_u_202403/Child_ID_Enter:hint')"/>
        </input>
        <input ref="/data/ke_u_202403/Re_enter_Child_ID">
          <label ref="jr:itext('/data/ke_u_202403/Re_enter_Child_ID:label')"/>
          <hint ref="jr:itext('/data/ke_u_202403/Re_enter_Child_ID:hint')"/>
        </input>
        <input ref="/data/ke_u_202403/u_code_id">
          <label ref="jr:itext('/data/ke_u_202403/u_code_id:label')"/>
        </input>
        <input ref="/data/ke_u_202403/Schistosom_Hematobium">
          <label ref="jr:itext('/data/ke_u_202403/Schistosom_Hematobium:label')"/>
          <hint ref="jr:itext('/data/ke_u_202403/Schistosom_Hematobium:hint')"/>
        </input>
        <input ref="/data/ke_u_202403/Notes_Comments">
          <label ref="jr:itext('/data/ke_u_202403/Notes_Comments:label')"/>
          <hint ref="jr:itext('/data/ke_u_202403/Notes_Comments:hint')"/>
        </input>
      </repeat>
    </group>
  </h:body>
</h:html>
