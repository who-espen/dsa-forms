<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>2. River inspection Form V4</h:title>
    <model>

      <instance>
        <data id="oncho_2_river_inspection_v4">
          <r_RecorderID/>
          <r_LGA/>
          <r_CommunityName/>
          <site/>
          <site_id/>
          <r_RiverName/>
          <r_RiverBasin/>
          <r_Date/>
          <r_GPS_river_basin/>
          <r_PossibleProspection/>
          <r_ReasonNoProspection/>
          <r_ReasonNoProspection_other/>
          <ph_water/>
          <r_SiteSuitable/>
          <r_EvidenceOfLarvae/>
          <r_LarvaeRate/>
          <r_EvidenceofAdult/>
          <r_AdultRate/>
          <lbl_photo/>
          <photo_1/>
          <photo_2/>
          <photo_3/>
          <river_characteristics/>
          <r_Notes/>
          <summary/>
          <confirm_summary/>
          <r_Start/>
          <r_End/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation default="true()" lang="English">
          <text id="/data/r_RecorderID:hint">
            <value>2 digit code assigned to you</value>
          </text>
          <text id="/data/r_LarvaeRate/More than 50:label">
            <value>More than 50</value>
          </text>
          <text id="/data/photo_3:label">
            <value>Please capture the third photo of the river bed</value>
          </text>
          <text id="/data/r_PossibleProspection:label">
            <value>Is this river possible for prospection?</value>
          </text>
          <text id="/data/river_characteristics/No.Water:label">
            <value>No Water</value>
          </text>
          <text id="/data/r_ReasonNoProspection/No road access:label">
            <value>No road access</value>
          </text>
          <text id="/data/r_ReasonNoProspection/Other:label">
            <value>Other (please specify)</value>
          </text>
          <text id="/data/lbl_photo:label">
            <value>Next, please capture photos of the river basin for validation. Please capture three photos. The most critical features to capture in the photo are the flow of river water, vegetation surrounding the river, and rocks surrounding the river.</value>
          </text>
          <text id="/data/r_ReasonNoProspection/Flooding:label">
            <value>Flooding</value>
          </text>
          <text id="/data/confirm_summary:label">
            <value>Please confirm the details summarised are correct</value>
          </text>
          <text id="/data/river_characteristics/Vegetation/Trailing.Present:label">
            <value>Vegetation/Trailing Present</value>
          </text>
          <text id="/data/r_LarvaeRate:label">
            <value>Please rate larvae abundance as few, some, or many</value>
          </text>
          <text id="/data/r_AdultRate/1-10:label">
            <value>1-10</value>
          </text>
          <text id="/data/r_ReasonNoProspection_other:label">
            <value>Please specify</value>
          </text>
          <text id="/data/r_Date:label">
            <value>Enter today's date</value>
          </text>
          <text id="/data/r_EvidenceOfLarvae/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/r_SiteSuitable/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/r_LarvaeRate/1-10:label">
            <value>1-10</value>
          </text>
          <text id="/data/river_characteristics:label">
            <value>What are the characteristics of the river? Please choose as many as apply.</value>
          </text>
          <text id="/data/ph_water:label">
            <value>What is the PH of the water?</value>
          </text>
          <text id="/data/r_ReasonNoProspection/River not flowing:label">
            <value>River not flowing</value>
          </text>
          <text id="/data/r_GPS_river_basin:label">
            <value>Collect GPS data at the River Basin</value>
          </text>
          <text id="/data/photo_1:label">
            <value>Please capture the first photo of the river bed</value>
          </text>
          <text id="/data/r_EvidenceofAdult:label">
            <value>At time of inspection did site provide evidence of adult black flies</value>
          </text>
          <text id="/data/r_LarvaeRate/11-50:label">
            <value>11-50</value>
          </text>
          <text id="/data/river_characteristics/Vegetation/Substrate.Present:label">
            <value>Vegetation/Substrate Present</value>
          </text>
          <text id="/data/r_LGA:label">
            <value>Select LGA</value>
          </text>
          <text id="/data/r_EvidenceofAdult/Yes:label">
            <value>Yes</value>
          </text>
          <text id="/data/river_characteristics/River.Polluted:label">
            <value>River Polluted</value>
          </text>
          <text id="/data/r_RiverBasin:label">
            <value>Name of river basin</value>
          </text>
          <text id="/data/river_characteristics/River.Flooded:label">
            <value>River Flooded</value>
          </text>
          <text id="/data/r_EvidenceofAdult/No:label">
            <value>No</value>
          </text>
          <text id="/data/r_PossibleProspection/No:label">
            <value>No</value>
          </text>
          <text id="/data/confirm_summary/No:label">
            <value>No</value>
          </text>
          <text id="/data/r_AdultRate/More than 50:label">
            <value>More than 50</value>
          </text>
          <text id="/data/confirm_summary:jr:constraintMsg">
            <value>Please go back and review your answers before proceeding</value>
          </text>
          <text id="/data/r_CommunityName:label">
            <value>Enter the Community Name</value>
          </text>
          <text id="/data/photo_2:label">
            <value>Please capture the second photo of the river bed</value>
          </text>
          <text id="/data/r_RecorderID:jr:constraintMsg">
            <value>Must be two digit between 9 and 100</value>
          </text>
          <text id="/data/r_EvidenceOfLarvae:label">
            <value>At time of inspection did site provide evidence of larvae</value>
          </text>
          <text id="/data/r_Notes:label">
            <value>Additional notes to add ? e.g. river muddy/sand, pollution type, human activity, forested /shrub/ farming area.</value>
          </text>
          <text id="/data/site_id:label">
            <value>Select Site ID</value>
          </text>
          <text id="/data/r_SiteSuitable/No:label">
            <value>No</value>
          </text>
          <text id="/data/r_AdultRate/11-50:label">
            <value>11-50</value>
          </text>
          <text id="/data/r_EvidenceOfLarvae/No:label">
            <value>No</value>
          </text>
          <text id="/data/r_RecorderID:label">
            <value>Enter Recorder ID</value>
          </text>
          <text id="/data/summary:label">
            <value>###Summary:

Site Provides Evidence of Larvae: **<output value=" /data/r_EvidenceOfLarvae "/>
**

Larvae Abundance: **<output value=" /data/r_LarvaeRate "/>
**

Site Provides Evidence of Adult Black Flies: **<output value=" /data/r_EvidenceofAdult "/>
**

Black Fly Abundance: **<output value=" /data/r_AdultRate "/>
**

River Characteristics: **<output value=" /data/river_characteristics "/>
**</value>
  </text>
  <text id="/data/ph_water:jr:constraintMsg">
    <value>The PH must be between 0 and 14</value>
  </text>
  <text id="/data/river_characteristics/River.Calm/Slow.Flow:label">
    <value>River Calm/Slow Flow</value>
  </text>
  <text id="/data/r_AdultRate:label">
    <value>Please rate adult black fly abundance as few, some, or many</value>
  </text>
  <text id="/data/river_characteristics:jr:constraintMsg">
    <value>###Warning

You cannot select two contradictory/opposite characteristics.
For example,

You cannot choose both "River Rapids" and "River Calm," as they represent opposite conditions.

"No water" cannot be selected with "River Flooded,"

"Vegetation/Substrate Present" cannot be chosen alongside "Vegetation/Trailing Present.""</value>
  </text>
  <text id="/data/r_SiteSuitable:label">
    <value>At time of inspection did site appear suitable for black fly breeding</value>
  </text>
  <text id="/data/confirm_summary/Yes:label">
    <value>Yes</value>
  </text>
  <text id="/data/r_ReasonNoProspection/Insecurity:label">
    <value>Insecurity</value>
  </text>
  <text id="/data/r_RiverName:label">
    <value>Name of river or stream</value>
  </text>
  <text id="/data/river_characteristics/River.rapids/fast.flow:label">
    <value>River rapids/fast flow</value>
  </text>
  <text id="/data/site:label">
    <value>Select Site Name</value>
  </text>
  <text id="/data/river_characteristics/Rocky./.Rocks.Present:label">
    <value>Rocky / Rocks Present</value>
  </text>
  <text id="/data/r_PossibleProspection/Yes:label">
    <value>Yes</value>
  </text>
  <text id="/data/r_Date:jr:constraintMsg">
    <value>The date cannot be in the future</value>
  </text>
  <text id="/data/r_ReasonNoProspection:label">
    <value>Why is it not possible to prospect the river?</value>
  </text>
</translation>
</itext>

<bind constraint="regex(., '^[0-9]{2}$')" jr:constraintMsg="jr:itext('/data/r_RecorderID:jr:constraintMsg')" nodeset="/data/r_RecorderID" required="true()" type="int"/>
<bind nodeset="/data/r_LGA" required="true()" type="string" db_get="col_2"/>
<bind nodeset="/data/r_CommunityName" required="true()" type="string" db_get="col_3" db_filter_by_col_2="/data/r_LGA"/>
<bind nodeset="/data/site" required="true()" type="string"/>
<bind nodeset="/data/site_id" required="true()" type="string"/>
<bind nodeset="/data/r_RiverName" required="true()" type="string"/>
<bind nodeset="/data/r_RiverBasin" required="true()" type="string"/>
<bind constraint=".&lt;=date(today())" jr:constraintMsg="jr:itext('/data/r_Date:jr:constraintMsg')" nodeset="/data/r_Date" required="true()" type="date"/>
<bind nodeset="/data/r_GPS_river_basin" required="true()" type="geopoint"/>
<bind nodeset="/data/r_PossibleProspection" required="true()" type="select1"/>
<bind nodeset="/data/r_ReasonNoProspection" relevant=" /data/r_PossibleProspection  = 'No'" required="true()" type="select1"/>
<bind nodeset="/data/r_ReasonNoProspection_other" relevant=" /data/r_ReasonNoProspection  = 'Other'" required="true()" type="string"/>
<bind constraint=". &gt;= 0 and . &lt;= 14" jr:constraintMsg="jr:itext('/data/ph_water:jr:constraintMsg')" nodeset="/data/ph_water" required="true()" type="decimal"/>
<bind nodeset="/data/r_SiteSuitable" required="true()" type="select1"/>
<bind nodeset="/data/r_EvidenceOfLarvae" required="true()" type="select1"/>
<bind nodeset="/data/r_LarvaeRate" relevant=" /data/r_EvidenceOfLarvae  = 'Yes'" required="true()" type="select1"/>
<bind nodeset="/data/r_EvidenceofAdult" required="true()" type="select1"/>
<bind nodeset="/data/r_AdultRate" relevant=" /data/r_EvidenceofAdult  = 'Yes'" required="true()" type="select1"/>
<bind nodeset="/data/lbl_photo" readonly="true()" type="string"/>
<bind nodeset="/data/photo_1" type="binary"/>
<bind nodeset="/data/photo_2" type="binary"/>
<bind nodeset="/data/photo_3" type="binary"/>
<bind constraint="if(
 selected( /data/river_characteristics , 'River.rapids/fast.flow') and
 (selected( /data/river_characteristics , 'River.Calm/Slow.Flow') or
 selected( /data/river_characteristics , 'No.Water')),
 false(), true()) and

if(selected( /data/river_characteristics , 'River.Calm/Slow.Flow') and
 selected( /data/river_characteristics , 'No.Water'), false(), true()) and

if(selected( /data/river_characteristics , 'River.Calm/Slow.Flow') and
 selected( /data/river_characteristics , 'River.Flooded'), false(), true()) and

if(selected( /data/river_characteristics , 'No.Water') and
 selected( /data/river_characteristics , 'River.Flooded'), false(), true()) and

if(selected( /data/river_characteristics , 'Vegetation/Substrate.Present') and
 selected( /data/river_characteristics , 'Vegetation/Trailing.Present'), false(), true())" jr:constraintMsg="jr:itext('/data/river_characteristics:jr:constraintMsg')" nodeset="/data/river_characteristics" required="true()" type="select"/>
<bind nodeset="/data/r_Notes" type="string"/>
<bind nodeset="/data/summary" readonly="true()" type="string"/>
<bind constraint=". = 'Yes'" jr:constraintMsg="jr:itext('/data/confirm_summary:jr:constraintMsg')" nodeset="/data/confirm_summary" type="select1"/>
<bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/r_Start" type="dateTime"/>
<bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/r_End" type="dateTime"/>
<bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
</model>
</h:head>
<h:body>
<input ref="/data/r_RecorderID">
<label ref="jr:itext('/data/r_RecorderID:label')"/>
<hint ref="jr:itext('/data/r_RecorderID:hint')"/>
</input>
<input ref="/data/r_LGA">
<label ref="jr:itext('/data/r_LGA:label')"/>
</input>
<input ref="/data/r_CommunityName">
<label ref="jr:itext('/data/r_CommunityName:label')"/>
</input>
<input ref="/data/site">
<label ref="jr:itext('/data/site:label')"/>
</input>
<input ref="/data/site_id">
<label ref="jr:itext('/data/site_id:label')"/>
</input>
<input ref="/data/r_RiverName">
<label ref="jr:itext('/data/r_RiverName:label')"/>
</input>
<input ref="/data/r_RiverBasin">
<label ref="jr:itext('/data/r_RiverBasin:label')"/>
</input>
<input ref="/data/r_Date">
<label ref="jr:itext('/data/r_Date:label')"/>
</input>
<input ref="/data/r_GPS_river_basin">
<label ref="jr:itext('/data/r_GPS_river_basin:label')"/>
</input>
<select1 ref="/data/r_PossibleProspection">
<label ref="jr:itext('/data/r_PossibleProspection:label')"/>
<item>
<label ref="jr:itext('/data/r_PossibleProspection/Yes:label')"/>
<value>Yes</value>
</item>
<item>
<label ref="jr:itext('/data/r_PossibleProspection/No:label')"/>
<value>No</value>
</item>
</select1>
<select1 ref="/data/r_ReasonNoProspection">
<label ref="jr:itext('/data/r_ReasonNoProspection:label')"/>
<item>
<label ref="jr:itext('/data/r_ReasonNoProspection/Insecurity:label')"/>
<value>Insecurity</value>
</item>
<item>
<label ref="jr:itext('/data/r_ReasonNoProspection/Flooding:label')"/>
<value>Flooding</value>
</item>
<item>
<label ref="jr:itext('/data/r_ReasonNoProspection/No road access:label')"/>
<value>No road access</value>
</item>
<item>
<label ref="jr:itext('/data/r_ReasonNoProspection/River not flowing:label')"/>
<value>River not flowing</value>
</item>
<item>
<label ref="jr:itext('/data/r_ReasonNoProspection/Other:label')"/>
<value>Other</value>
</item>
</select1>
<input ref="/data/r_ReasonNoProspection_other">
<label ref="jr:itext('/data/r_ReasonNoProspection_other:label')"/>
</input>
<input ref="/data/ph_water">
<label ref="jr:itext('/data/ph_water:label')"/>
</input>
<select1 ref="/data/r_SiteSuitable">
<label ref="jr:itext('/data/r_SiteSuitable:label')"/>
<item>
<label ref="jr:itext('/data/r_SiteSuitable/Yes:label')"/>
<value>Yes</value>
</item>
<item>
<label ref="jr:itext('/data/r_SiteSuitable/No:label')"/>
<value>No</value>
</item>
</select1>
<select1 ref="/data/r_EvidenceOfLarvae">
<label ref="jr:itext('/data/r_EvidenceOfLarvae:label')"/>
<item>
<label ref="jr:itext('/data/r_EvidenceOfLarvae/Yes:label')"/>
<value>Yes</value>
</item>
<item>
<label ref="jr:itext('/data/r_EvidenceOfLarvae/No:label')"/>
<value>No</value>
</item>
</select1>
<select1 ref="/data/r_LarvaeRate">
<label ref="jr:itext('/data/r_LarvaeRate:label')"/>
<item>
<label ref="jr:itext('/data/r_LarvaeRate/1-10:label')"/>
<value>1-10</value>
</item>
<item>
<label ref="jr:itext('/data/r_LarvaeRate/11-50:label')"/>
<value>11-50</value>
</item>
<item>
<label ref="jr:itext('/data/r_LarvaeRate/More than 50:label')"/>
<value>More than 50</value>
</item>
</select1>
<select1 ref="/data/r_EvidenceofAdult">
<label ref="jr:itext('/data/r_EvidenceofAdult:label')"/>
<item>
<label ref="jr:itext('/data/r_EvidenceofAdult/Yes:label')"/>
<value>Yes</value>
</item>
<item>
<label ref="jr:itext('/data/r_EvidenceofAdult/No:label')"/>
<value>No</value>
</item>
</select1>
<select1 ref="/data/r_AdultRate">
<label ref="jr:itext('/data/r_AdultRate:label')"/>
<item>
<label ref="jr:itext('/data/r_AdultRate/1-10:label')"/>
<value>1-10</value>
</item>
<item>
<label ref="jr:itext('/data/r_AdultRate/11-50:label')"/>
<value>11-50</value>
</item>
<item>
<label ref="jr:itext('/data/r_AdultRate/More than 50:label')"/>
<value>More than 50</value>
</item>
</select1>
<input ref="/data/lbl_photo">
<label ref="jr:itext('/data/lbl_photo:label')"/>
</input>
<upload mediatype="image/*" ref="/data/photo_1">
<label ref="jr:itext('/data/photo_1:label')"/>
</upload>
<upload mediatype="image/*" ref="/data/photo_2">
<label ref="jr:itext('/data/photo_2:label')"/>
</upload>
<upload mediatype="image/*" ref="/data/photo_3">
<label ref="jr:itext('/data/photo_3:label')"/>
</upload>
<select ref="/data/river_characteristics">
<label ref="jr:itext('/data/river_characteristics:label')"/>
<item>
<label ref="jr:itext('/data/river_characteristics/River.rapids/fast.flow:label')"/>
<value>River.rapids/fast.flow</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/River.Calm/Slow.Flow:label')"/>
<value>River.Calm/Slow.Flow</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/Rocky./.Rocks.Present:label')"/>
<value>Rocky./.Rocks.Present</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/Vegetation/Substrate.Present:label')"/>
<value>Vegetation/Substrate.Present</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/Vegetation/Trailing.Present:label')"/>
<value>Vegetation/Trailing.Present</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/River.Flooded:label')"/>
<value>River.Flooded</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/River.Polluted:label')"/>
<value>River.Polluted</value>
</item>
<item>
<label ref="jr:itext('/data/river_characteristics/No.Water:label')"/>
<value>No.Water</value>
</item>
</select>
<input ref="/data/r_Notes">
<label ref="jr:itext('/data/r_Notes:label')"/>
</input>
<input ref="/data/summary">
<label ref="jr:itext('/data/summary:label')"/>
</input>
<select1 ref="/data/confirm_summary">
<label ref="jr:itext('/data/confirm_summary:label')"/>
<item>
<label ref="jr:itext('/data/confirm_summary/Yes:label')"/>
<value>Yes</value>
</item>
<item>
<label ref="jr:itext('/data/confirm_summary/No:label')"/>
<value>No</value>
</item>
</select1>
</h:body>
</h:html>
