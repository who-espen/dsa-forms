<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(Jun 2022) 7. Pre TAS1 FL - Formulário do site V2.1</h:title>
    <model >

      <instance>
        <data id="gw_lf_pretas_1_sites_202206_v2_1">
          <c_recorder/>
          <c_region/>
          <c_district/>
          <c_cluster_name/>
          <c_cluster_id/>
          <c_cluster_leader_name/>
          <c_consent/>
          <c_population/>
          <c_present/>
          <c_gps/>
          <p_ending_survey_note/>
          <c_ClusterNotes/>
          <c_start/>
          <c_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation default="true()" lang="Portuguese">
          <text id="/data/c_recorder:jr:constraintMsg">
            <value>O código deve ser um número de dois algarismos entre 9 e 100</value>
          </text>
          <text id="/data/c_recorder:label">
            <value>Insira o código do gravador</value>
          </text>
          <text id="/data/c_recorder:hint">
            <value>Se você for o único registrador/inqueridor na sua equipa, isso pode ser chamado de "ID de equipa". ID do inqueridor é o código de 2 dígitos fornecido a você ou à sua equipa.</value>
          </text>
          <text id="/data/c_region:label">
            <value>Selecione a região</value>
          </text>
          <text id="/data/c_region/Bijagos:label">
            <value>Bijagos</value>
          </text>
          <text id="/data/c_region/Gabu:label">
            <value>Gabu</value>
          </text>
          <text id="/data/c_district:label">
            <value>Selecione o distrito</value>
          </text>
          <text id="/data/c_cluster_name:label">
            <value>Selecione o local</value>
          </text>
          <text id="/data/c_cluster_id:label">
            <value>Selecione o código do site</value>
          </text>
          <text id="/data/c_cluster_leader_name:label">
            <value>Nome do lider comunitário ou do director da escola</value>
          </text>
          <text id="/data/c_consent:label">
            <value>A escola ou comunidade consentiu participar neste inquerito?</value>
          </text>
          <text id="/data/c_consent/Sim:label">
            <value>Sim</value>
          </text>
          <text id="/data/c_consent/Nao:label">
            <value>Não</value>
          </text>
          <text id="/data/c_population:label">
            <value>De acordo com o grupo alvo, aproximadamente quantos participantes elegiveis estão matriculados ou vivem nesta comunidade?</value>
          </text>
          <text id="/data/c_present:jr:constraintMsg">
            <value>O número de participantes elegíveis deve ser sempre menor que o número de alunos na escola</value>
          </text>
          <text id="/data/c_present:label">
            <value>De acordo com o grupo alvo, quantos participantes elegiveis estão presentes nesta escola ou comunidade?</value>
          </text>
          <text id="/data/c_gps:label">
            <value>Gravar sua localização</value>
          </text>
          <text id="/data/c_gps:hint">
            <value>Você acabou de inserir um valor que encerrará a pesquisa</value>
          </text>
          <text id="/data/p_ending_survey_note:label">
            <value>Você acabou de inserir um valor que encerrará a pesquisa</value>
          </text>
          <text id="/data/c_ClusterNotes:label">
            <value>Notas adicionais</value>
          </text>
          <text id="yes_no-0">
            <value>Sim</value>
          </text>
          <text id="yes_no-1">
            <value>Não</value>
          </text>
          <text id="region_list-0">
            <value>Bijagos</value>
          </text>
          <text id="region_list-1">
            <value>Gabu</value>
          </text>
          <text id="district_list-0">
            <value>Bubaque</value>
          </text>
          <text id="district_list-1">
            <value>Soga</value>
          </text>
          <text id="district_list-2">
            <value>Beli</value>
          </text>
          <text id="district_list-3">
            <value>Paunca</value>
          </text>
          <text id="site_list-0">
            <value>Beli-Pataqui</value>
          </text>
          <text id="site_list-1">
            <value>Bruce</value>
          </text>
          <text id="site_list-2">
            <value>Quenebá-Demba-Djau</value>
          </text>
          <text id="site_list-3">
            <value>Soga</value>
          </text>
          <text id="site_code-0">
            <value>1001</value>
          </text>
          <text id="site_code-1">
            <value>1002</value>
          </text>
          <text id="site_code-2">
            <value>1003</value>
          </text>
          <text id="site_code-3">
            <value>1004</value>
          </text>
        </translation>
      </itext>

      <instance id="yes_no">
        <root>
          <item>
            <itextId>yes_no-0</itextId>
            <name>Sim</name>
          </item>
          <item>
            <itextId>yes_no-1</itextId>
            <name>Nao</name>
          </item>
        </root>
      </instance>
      <instance id="region_list">
        <root>
          <item>
            <itextId>region_list-0</itextId>
            <name>Bijagos</name>
          </item>
          <item>
            <itextId>region_list-1</itextId>
            <name>Gabu</name>
          </item>
        </root>
      </instance>
      <instance id="district_list">
        <root>
          <item>
            <itextId>district_list-0</itextId>
            <name>Bubaque</name>
            <region_list>Bijagos</region_list>
          </item>
          <item>
            <itextId>district_list-1</itextId>
            <name>Soga</name>
            <region_list>Bijagos</region_list>
          </item>
          <item>
            <itextId>district_list-2</itextId>
            <name>Beli</name>
            <region_list>Gabu</region_list>
          </item>
          <item>
            <itextId>district_list-3</itextId>
            <name>Paunca</name>
            <region_list>Gabu</region_list>
          </item>
        </root>
      </instance>
      <instance id="site_list">
        <root>
          <item>
            <itextId>site_list-0</itextId>
            <district_list>Beli</district_list>
            <name>Beli-Pataqui</name>
          </item>
          <item>
            <itextId>site_list-1</itextId>
            <district_list>Bubaque</district_list>
            <name>Bruce</name>
          </item>
          <item>
            <itextId>site_list-2</itextId>
            <district_list>Paunca</district_list>
            <name>Quenebá-Demba-Djau</name>
          </item>
          <item>
            <itextId>site_list-3</itextId>
            <district_list>Soga</district_list>
            <name>Soga</name>
          </item>
        </root>
      </instance>
      <instance id="site_code">
        <root>
          <item>
            <itextId>site_code-0</itextId>
            <name>1001</name>
            <site_list>Bruce</site_list>
          </item>
          <item>
            <itextId>site_code-1</itextId>
            <name>1002</name>
            <site_list>Soga</site_list>
          </item>
          <item>
            <itextId>site_code-2</itextId>
            <name>1003</name>
            <site_list>Quenebá-Demba-Djau</site_list>
          </item>
          <item>
            <itextId>site_code-3</itextId>
            <name>1004</name>
            <site_list>Beli-Pataqui</site_list>
          </item>
        </root>
      </instance>
      <bind constraint="regex(.,'^[0-9]{2}$')" jr:constraintMsg="jr:itext('/data/c_recorder:jr:constraintMsg')" nodeset="/data/c_recorder" required="true()" type="int"/>
      <bind nodeset="/data/c_region" required="true()" type="string" db_add_col_1="."/>
      <bind nodeset="/data/c_district" required="true()" type="string" db_add_col_1="/data/c_region" db_add_col_2="."/>
      <bind nodeset="/data/c_cluster_name" required="true()" type="string" db_add_col_2="/data/c_district" db_add_col_3="."/>
      <bind nodeset="/data/c_cluster_id" required="true()" type="string" db_add_col_3="/data/c_cluster_name" db_add_col_4="."/>
      <bind nodeset="/data/c_cluster_leader_name" required="true()" type="string"/>
      <bind nodeset="/data/c_consent" required="true()" type="string"/>
      <bind nodeset="/data/c_population" relevant=" /data/c_consent  = 'Sim'" required="false()" type="int"/>
      <bind constraint=". &lt;=  /data/c_population " jr:constraintMsg="jr:itext('/data/c_present:jr:constraintMsg')" nodeset="/data/c_present" relevant=" /data/c_consent  = 'Sim'" required="false()" type="int"/>
      <bind nodeset="/data/c_gps" relevant=" /data/c_consent  = 'Sim'" required="true()" type="geopoint"/>
      <bind nodeset="/data/p_ending_survey_note" readonly="true()" relevant=" /data/c_consent  = 'Nao'" type="string"/>
      <bind nodeset="/data/c_ClusterNotes" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/c_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/c_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/c_recorder">
      <label ref="jr:itext('/data/c_recorder:label')"/>
      <hint ref="jr:itext('/data/c_recorder:hint')"/>
    </input>
    <select1 ref="/data/c_region">
      <label ref="jr:itext('/data/c_region:label')"/>
      <item>
        <label ref="jr:itext('/data/c_region/Bijagos:label')"/>
        <value>Bijagos</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_region/Gabu:label')"/>
        <value>Gabu</value>
      </item>
    </select1>
    <select1 ref="/data/c_district">
      <label ref="jr:itext('/data/c_district:label')"/>
      <itemset nodeset="instance('district_list')/root/item[region_list =  /data/c_region ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_cluster_name">
      <label ref="jr:itext('/data/c_cluster_name:label')"/>
      <itemset nodeset="instance('site_list')/root/item[district_list =  /data/c_district ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_cluster_id">
      <label ref="jr:itext('/data/c_cluster_id:label')"/>
      <itemset nodeset="instance('site_code')/root/item[site_list =  /data/c_cluster_name ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <input ref="/data/c_cluster_leader_name">
      <label ref="jr:itext('/data/c_cluster_leader_name:label')"/>
    </input>
    <select1 ref="/data/c_consent">
      <label ref="jr:itext('/data/c_consent:label')"/>
      <item>
        <label ref="jr:itext('/data/c_consent/Sim:label')"/>
        <value>Sim</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_consent/Nao:label')"/>
        <value>Nao</value>
      </item>
    </select1>
    <input ref="/data/c_population">
      <label ref="jr:itext('/data/c_population:label')"/>
    </input>
    <input ref="/data/c_present">
      <label ref="jr:itext('/data/c_present:label')"/>
    </input>
    <input ref="/data/c_gps">
      <label ref="jr:itext('/data/c_gps:label')"/>
      <hint ref="jr:itext('/data/c_gps:hint')"/>
    </input>
    <input ref="/data/p_ending_survey_note">
      <label ref="jr:itext('/data/p_ending_survey_note:label')"/>
    </input>
    <input ref="/data/c_ClusterNotes">
      <label ref="jr:itext('/data/c_ClusterNotes:label')"/>
    </input>
  </h:body>
</h:html>
