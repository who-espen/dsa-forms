<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(BF - Juin 2021) Pré TAS FL - 2. Formulaire Enrôlement V2</h:title>
    <model odk:xforms-version="1.0.0">

    <instance>
      <data id="bf_lf_pretas_2_enrolement_202106_v2" version="20210605">
        <p_recorder_id/>
        <ds/>
        <csps/>
        <p_cluster_name/>
        <p_cluster_id/>
        <p_consent/>
        <p_id_method/>
        <p_barcode_id/>
        <manual_code/>
        <manual_code2/>
        <Numero_famille/>
        <Numero_Enquete/>
        <Numero_Enquete_complet/>
        <p_age_yrs/>
        <p_sex/>
        <status/>
        <ivm_alb/>
        <avm_alb_derniere_campagne/>
        <nb_fois_ivm_alb/>
        <migration/>
        <migration_autre/>
        <lymphoedeme/>
        <hydrocele/>
        <p_ending_survey_note/>
        <commentaires/>
        <p_start/>
        <p_end/>
        <meta>
          <instanceID/>
        </meta>
      </data>
    </instance>

      <itext>
        <translation default="true()" lang="French">
          <text id="/data/p_recorder_id:label">
            <value>Code opérateurs</value>
          </text>
          <text id="/data/p_recorder_id/EN01:label">
            <value>EN01</value>
          </text>
          <text id="/data/p_recorder_id/EN02:label">
            <value>EN02</value>
          </text>
          <text id="/data/p_recorder_id/EN03:label">
            <value>EN03</value>
          </text>
          <text id="/data/p_recorder_id/EN04:label">
            <value>EN04</value>
          </text>
          <text id="/data/p_recorder_id/EN05:label">
            <value>EN05</value>
          </text>
          <text id="/data/p_recorder_id/EN06:label">
            <value>EN06</value>
          </text>
          <text id="/data/p_recorder_id/EN07:label">
            <value>EN07</value>
          </text>
          <text id="/data/p_recorder_id/EN08:label">
            <value>EN08</value>
          </text>
          <text id="/data/ds:label">
            <value>District</value>
          </text>
          <text id="/data/csps:label">
            <value>CSPS</value>
          </text>
          <text id="/data/p_cluster_name:label">
            <value>Village/Site</value>
          </text>
          <text id="/data/p_cluster_id:label">
            <value>Code Site</value>
          </text>
          <text id="/data/p_consent:label">
            <value>Le répondant a-t-il donné son consentement?</value>
          </text>
          <text id="/data/p_consent/1_oui:label">
            <value>Oui</value>
          </text>
          <text id="/data/p_consent/2_non:label">
            <value>Non</value>
          </text>
          <text id="/data/p_id_method:label">
            <value>Souhaitez-vous scanner ou saisir manuellement le code-barres?</value>
          </text>
          <text id="/data/p_id_method/manuel:label">
            <value>Manuel</value>
          </text>
          <text id="/data/p_id_method/scanner:label">
            <value>Scanner</value>
          </text>
          <text id="/data/p_barcode_id:label">
            <value>Code barre</value>
          </text>
          <text id="/data/manual_code:jr:constraintMsg">
            <value>Paramétrer pour prendre 10 caractère</value>
          </text>
          <text id="/data/manual_code:label">
            <value>Saisir le code barre</value>
          </text>
          <text id="/data/manual_code:hint">
            <value>Exemple "PreTas0001"</value>
          </text>
          <text id="/data/manual_code2:jr:constraintMsg">
            <value>Le code répété doit être le même</value>
          </text>
          <text id="/data/manual_code2:label">
            <value>Saisir le code barre à nouveau</value>
          </text>
          <text id="/data/manual_code2:hint">
            <value>Exemple "PreTas0001"</value>
          </text>
          <text id="/data/Numero_famille:jr:constraintMsg">
            <value>Le code doit être trois lettres Majuscules suivies de 3 chiffres</value>
          </text>
          <text id="/data/Numero_famille:label">
            <value>Numéro famille</value>
          </text>
          <text id="/data/Numero_famille:hint">
            <value>Trois lettres Majuscules suivies de 3 chiffres</value>
          </text>
          <text id="/data/Numero_Enquete:jr:constraintMsg">
            <value>Entrer uniquement les trois derniers chiffre du numéro enquété</value>
          </text>
          <text id="/data/Numero_Enquete:label">
            <value>Numéro enquêté (<output value=" /data/p_recorder_id "/>
            <output value=" /data/Numero_famille "/>
...)</value>
        </text>
        <text id="/data/Numero_Enquete_complet:label">
          <value>Le numéro complet de l'enquété</value>
        </text>
        <text id="/data/p_age_yrs:jr:constraintMsg">
          <value>Doit être comprise entre 5 et 110</value>
        </text>
        <text id="/data/p_age_yrs:label">
          <value>Age</value>
        </text>
        <text id="/data/p_sex:label">
          <value>Sexe</value>
        </text>
        <text id="/data/p_sex/F:label">
          <value>Feminin</value>
        </text>
        <text id="/data/p_sex/M:label">
          <value>Masculin</value>
        </text>
        <text id="/data/status:label">
          <value>Statut enregistrement</value>
        </text>
        <text id="/data/status/1_examiné_précédemment:label">
          <value>1 examiné précédemment</value>
        </text>
        <text id="/data/status/2_nouveau entrant:label">
          <value>2 nouveau entrant</value>
        </text>
        <text id="/data/ivm_alb:label">
          <value>Déjà traité à l'Ivermectine/Albendazole</value>
        </text>
        <text id="/data/ivm_alb/1_Oui:label">
          <value>1 Oui</value>
        </text>
        <text id="/data/ivm_alb/2_Non:label">
          <value>2 Non</value>
        </text>
        <text id="/data/ivm_alb/3_Ne_sais_pas:label">
          <value>3 Ne sais pas</value>
        </text>
        <text id="/data/avm_alb_derniere_campagne:label">
          <value>Avez-vous reçu IVM+ALB lors de la dernière campagne</value>
        </text>
        <text id="/data/avm_alb_derniere_campagne/1_Oui:label">
          <value>1 Oui</value>
        </text>
        <text id="/data/avm_alb_derniere_campagne/2_Non:label">
          <value>2 Non</value>
        </text>
        <text id="/data/avm_alb_derniere_campagne/3_Ne_sais_pas:label">
          <value>3 Ne sais pas</value>
        </text>
        <text id="/data/nb_fois_ivm_alb:label">
          <value>Combien de fois avez-vous reçu IVM+ALB au cours des cinq dernière années</value>
        </text>
        <text id="/data/migration:label">
          <value>Migration (personnes entrée il y a moins 5 ans d'un pays voisin ou autre localités)</value>
        </text>
        <text id="/data/migration/10_RCI:label">
          <value>10 RCI</value>
        </text>
        <text id="/data/migration/11_GH:label">
          <value>11 GH</value>
        </text>
        <text id="/data/migration/12_autre_localité_du_Burkina_Faso:label">
          <value>12 autre localité du Burkina Faso</value>
        </text>
        <text id="/data/migration/13_autre_pays:label">
          <value>13 autre pays</value>
        </text>
        <text id="/data/migration/Aucune:label">
          <value>Aucune</value>
        </text>
        <text id="/data/migration_autre:label">
          <value>Si autre précisez</value>
        </text>
        <text id="/data/lymphoedeme:label">
          <value>Présence de Lymphoedème</value>
        </text>
        <text id="/data/lymphoedeme/1_oui:label">
          <value>Oui</value>
        </text>
        <text id="/data/lymphoedeme/2_non:label">
          <value>Non</value>
        </text>
        <text id="/data/hydrocele:label">
          <value>Présence de Hydrocèle</value>
        </text>
        <text id="/data/hydrocele/1_oui:label">
          <value>Oui</value>
        </text>
        <text id="/data/hydrocele/2_non:label">
          <value>Non</value>
        </text>
        <text id="/data/p_ending_survey_note:label">
          <value>Vous venez de saisir une valeur qui mettra fin à l'enquête</value>
        </text>
        <text id="/data/commentaires:label">
          <value>Commentaires</value>
        </text>
      </translation>
    </itext>

    <bind nodeset="/data/p_recorder_id" required="true()" type="string"/>
    <bind nodeset="/data/ds" required="true()" type="string" db_get="col_2"/>
    <bind nodeset="/data/csps" required="true()" type="string" db_get="col_3" db_filter_by_col_2="/data/ds"/>
    <bind nodeset="/data/p_cluster_name" required="true()" type="string" db_get="col_4" db_filter_by_col_3="/data/csps"/>
    <bind nodeset="/data/p_cluster_id" required="true()" type="string"  db_get="col_5" db_filter_by_col_4="/data/p_cluster_name"/>
    <bind nodeset="/data/p_consent" type="string"/>
    <bind nodeset="/data/p_id_method" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/p_barcode_id" relevant=" /data/p_id_method ='scanner' and  /data/p_consent  = '1_oui'" required="true()" type="barcode"/>
    <bind constraint="string-length(.)=10 and regex(.,'^[a-zA-Z]{6}[0-9]{4}$')" jr:constraintMsg="jr:itext('/data/manual_code:jr:constraintMsg')" nodeset="/data/manual_code" relevant=" /data/p_id_method ='manuel' and  /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind constraint="string-length(.)=10 and . =  /data/manual_code " jr:constraintMsg="jr:itext('/data/manual_code2:jr:constraintMsg')" nodeset="/data/manual_code2" relevant=" /data/p_id_method ='manuel' and  /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind constraint="regex(., '^[A-Z]{3}[0-9]{3}$')" jr:constraintMsg="jr:itext('/data/Numero_famille:jr:constraintMsg')" nodeset="/data/Numero_famille" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind constraint="regex(., '^[0-9]{3}$')" jr:constraintMsg="jr:itext('/data/Numero_Enquete:jr:constraintMsg')" nodeset="/data/Numero_Enquete" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind calculate="concat( /data/p_recorder_id ,'-',  /data/Numero_famille ,'-', /data/Numero_Enquete )" nodeset="/data/Numero_Enquete_complet" readonly="true()" relevant=" /data/p_consent  = '1_oui'" type="string"/>
    <bind constraint=".&gt;4 and .&lt;110" jr:constraintMsg="jr:itext('/data/p_age_yrs:jr:constraintMsg')" nodeset="/data/p_age_yrs" relevant=" /data/p_consent  = '1_oui'" required="true()" type="int"/>
    <bind nodeset="/data/p_sex" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/status" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/ivm_alb" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/avm_alb_derniere_campagne" relevant=" /data/ivm_alb ='1_Oui' and  /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind constraint=".&gt;0 and .&lt;5" nodeset="/data/nb_fois_ivm_alb" relevant=" /data/ivm_alb ='1_Oui' and  /data/p_consent  = '1_oui'" required="true()" type="int"/>
    <bind nodeset="/data/migration" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/migration_autre" relevant=" /data/migration ='13_autre_pays' and  /data/p_consent  = '1_oui'" type="string"/>
    <bind nodeset="/data/lymphoedeme" relevant=" /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/hydrocele" relevant=" /data/p_sex ='M' and  /data/p_consent  = '1_oui'" required="true()" type="string"/>
    <bind nodeset="/data/p_ending_survey_note" readonly="true()" relevant=" /data/p_consent  = '2_non'" type="string"/>
    <bind nodeset="/data/commentaires" type="string"/>
    <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/p_start" type="dateTime"/>
    <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/p_end" type="dateTime"/>
    <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
  </model>
</h:head>
<h:body>
  <select1 ref="/data/p_recorder_id">
    <label ref="jr:itext('/data/p_recorder_id:label')"/>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN01:label')"/>
      <value>EN01</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN02:label')"/>
      <value>EN02</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN03:label')"/>
      <value>EN03</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN04:label')"/>
      <value>EN04</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN05:label')"/>
      <value>EN05</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN06:label')"/>
      <value>EN06</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN07:label')"/>
      <value>EN07</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_recorder_id/EN08:label')"/>
      <value>EN08</value>
    </item>
  </select1>
  <input ref="/data/ds">
    <label ref="jr:itext('/data/ds:label')"/>
  </input>
  <input ref="/data/csps">
    <label ref="jr:itext('/data/csps:label')"/>
  </input>
  <input ref="/data/p_cluster_name">
    <label ref="jr:itext('/data/p_cluster_name:label')"/>
  </input>
  <input ref="/data/p_cluster_id">
    <label ref="jr:itext('/data/p_cluster_id:label')"/>
  </input>
  <select1 ref="/data/p_consent">
    <label ref="jr:itext('/data/p_consent:label')"/>
    <item>
      <label ref="jr:itext('/data/p_consent/1_oui:label')"/>
      <value>1_oui</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_consent/2_non:label')"/>
      <value>2_non</value>
    </item>
  </select1>
  <select1 ref="/data/p_id_method">
    <label ref="jr:itext('/data/p_id_method:label')"/>
    <item>
      <label ref="jr:itext('/data/p_id_method/manuel:label')"/>
      <value>manuel</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_id_method/scanner:label')"/>
      <value>scanner</value>
    </item>
  </select1>
  <input ref="/data/p_barcode_id">
    <label ref="jr:itext('/data/p_barcode_id:label')"/>
  </input>
  <input ref="/data/manual_code">
    <label ref="jr:itext('/data/manual_code:label')"/>
    <hint ref="jr:itext('/data/manual_code:hint')"/>
  </input>
  <input ref="/data/manual_code2">
    <label ref="jr:itext('/data/manual_code2:label')"/>
    <hint ref="jr:itext('/data/manual_code2:hint')"/>
  </input>
  <input ref="/data/Numero_famille">
    <label ref="jr:itext('/data/Numero_famille:label')"/>
    <hint ref="jr:itext('/data/Numero_famille:hint')"/>
  </input>
  <input ref="/data/Numero_Enquete">
    <label ref="jr:itext('/data/Numero_Enquete:label')"/>
  </input>
  <input ref="/data/Numero_Enquete_complet">
    <label ref="jr:itext('/data/Numero_Enquete_complet:label')"/>
  </input>
  <input ref="/data/p_age_yrs">
    <label ref="jr:itext('/data/p_age_yrs:label')"/>
  </input>
  <select1 ref="/data/p_sex">
    <label ref="jr:itext('/data/p_sex:label')"/>
    <item>
      <label ref="jr:itext('/data/p_sex/F:label')"/>
      <value>F</value>
    </item>
    <item>
      <label ref="jr:itext('/data/p_sex/M:label')"/>
      <value>M</value>
    </item>
  </select1>
  <select1 ref="/data/status">
    <label ref="jr:itext('/data/status:label')"/>
    <item>
      <label ref="jr:itext('/data/status/1_examiné_précédemment:label')"/>
      <value>1_examiné_précédemment</value>
    </item>
    <item>
      <label ref="jr:itext('/data/status/2_nouveau entrant:label')"/>
      <value>2_nouveau entrant</value>
    </item>
  </select1>
  <select1 ref="/data/ivm_alb">
    <label ref="jr:itext('/data/ivm_alb:label')"/>
    <item>
      <label ref="jr:itext('/data/ivm_alb/1_Oui:label')"/>
      <value>1_Oui</value>
    </item>
    <item>
      <label ref="jr:itext('/data/ivm_alb/2_Non:label')"/>
      <value>2_Non</value>
    </item>
    <item>
      <label ref="jr:itext('/data/ivm_alb/3_Ne_sais_pas:label')"/>
      <value>3_Ne_sais_pas</value>
    </item>
  </select1>
  <select1 ref="/data/avm_alb_derniere_campagne">
    <label ref="jr:itext('/data/avm_alb_derniere_campagne:label')"/>
    <item>
      <label ref="jr:itext('/data/avm_alb_derniere_campagne/1_Oui:label')"/>
      <value>1_Oui</value>
    </item>
    <item>
      <label ref="jr:itext('/data/avm_alb_derniere_campagne/2_Non:label')"/>
      <value>2_Non</value>
    </item>
    <item>
      <label ref="jr:itext('/data/avm_alb_derniere_campagne/3_Ne_sais_pas:label')"/>
      <value>3_Ne_sais_pas</value>
    </item>
  </select1>
  <input ref="/data/nb_fois_ivm_alb">
    <label ref="jr:itext('/data/nb_fois_ivm_alb:label')"/>
  </input>
  <select1 ref="/data/migration">
    <label ref="jr:itext('/data/migration:label')"/>
    <item>
      <label ref="jr:itext('/data/migration/10_RCI:label')"/>
      <value>10_RCI</value>
    </item>
    <item>
      <label ref="jr:itext('/data/migration/11_GH:label')"/>
      <value>11_GH</value>
    </item>
    <item>
      <label ref="jr:itext('/data/migration/12_autre_localité_du_Burkina_Faso:label')"/>
      <value>12_autre_localité_du_Burkina_Faso</value>
    </item>
    <item>
      <label ref="jr:itext('/data/migration/13_autre_pays:label')"/>
      <value>13_autre_pays</value>
    </item>
    <item>
      <label ref="jr:itext('/data/migration/Aucune:label')"/>
      <value>Aucune</value>
    </item>
  </select1>
  <input ref="/data/migration_autre">
    <label ref="jr:itext('/data/migration_autre:label')"/>
  </input>
  <select1 ref="/data/lymphoedeme">
    <label ref="jr:itext('/data/lymphoedeme:label')"/>
    <item>
      <label ref="jr:itext('/data/lymphoedeme/1_oui:label')"/>
      <value>1_oui</value>
    </item>
    <item>
      <label ref="jr:itext('/data/lymphoedeme/2_non:label')"/>
      <value>2_non</value>
    </item>
  </select1>
  <select1 ref="/data/hydrocele">
    <label ref="jr:itext('/data/hydrocele:label')"/>
    <item>
      <label ref="jr:itext('/data/hydrocele/1_oui:label')"/>
      <value>1_oui</value>
    </item>
    <item>
      <label ref="jr:itext('/data/hydrocele/2_non:label')"/>
      <value>2_non</value>
    </item>
  </select1>
  <input ref="/data/p_ending_survey_note">
    <label ref="jr:itext('/data/p_ending_survey_note:label')"/>
  </input>
  <input ref="/data/commentaires">
    <label ref="jr:itext('/data/commentaires:label')"/>
  </input>
</h:body>
</h:html>
