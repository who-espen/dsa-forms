<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(2024 Juillet) 1. EMS Formulaire Site V4</h:title>
    <model>

      <instance>
        <data id="ci_lf_pretas_2406_1_site_v4">
          <c_recorder/>
          <c_region/>
          <c_district/>
          <c_type_site/>
          <c_site1/>
          <c_site_id1/>
          <c_site2/>
          <c_site_id2/>
          <c_site/>
          <c_site_id/>
          <c_population/>
          <c_site_leader/>
          <c_site_leader_contact/>
          <c_consent/>
          <c_gps/>
          <c_ending_survey_note/>
          <c_start/>
          <c_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation default="true()" lang="French">
          <text id="static_instance-code_site_2-1">
            <value>102 (DALIGUEPALEGNOA)</value>
          </text>
          <text id="static_instance-code_site_2-0">
            <value>101 (NOAGUIHIO)</value>
          </text>
          <text id="/data/c_site1:label">
            <value>Sélectionner le site</value>
          </text>
          <text id="/data/c_site2:label">
            <value>Entrer le nom du nouveau site</value>
          </text>
          <text id="/data/c_district/GAGNOA 1:label">
            <value>GAGNOA 1</value>
          </text>
          <text id="/data/c_site1/TCHEDJELET:label">
            <value>TCHEDJELET</value>
          </text>
          <text id="/data/c_region:label">
            <value>Sélectionner la région</value>
          </text>
          <text id="/data/c_site_id1/101:label">
            <value>101</value>
          </text>
          <text id="/data/c_site:label">
            <value>Site sélectionné</value>
          </text>
          <text id="/data/c_district:label">
            <value>Sélectionner le district</value>
          </text>
          <text id="static_instance-sex_list-1">
            <value>Féminin</value>
          </text>
          <text id="/data/c_site2:hint">
            <value>Site de substitution</value>
          </text>
          <text id="static_instance-code_site-0">
            <value>101</value>
          </text>
          <text id="/data/c_site1/NOAGUIHIO:label">
            <value>NOAGUIHIO</value>
          </text>
          <text id="static_instance-district_list-0">
            <value>GAGNOA 1</value>
          </text>
          <text id="/data/c_ending_survey_note:label">
            <value>Vous vener de saisir une valeur qui mettra fin à l'enquête</value>
          </text>
          <text id="static_instance-site_list-3">
            <value>Autre</value>
          </text>
          <text id="static_instance-code_site_2-2">
            <value>103 (TCHEDJELET)</value>
          </text>
          <text id="/data/c_site1/DALIGUEPALEGNOA:label">
            <value>DALIGUEPALEGNOA</value>
          </text>
          <text id="/data/c_site_id1/103:label">
            <value>103</value>
          </text>
          <text id="/data/c_type_site/Site sentinelle:label">
            <value>Site sentinel</value>
          </text>
          <text id="static_instance-type_site-0">
            <value>Site sentinel</value>
          </text>
          <text id="/data/c_site_id1/102:label">
            <value>102</value>
          </text>
          <text id="/data/c_site_id2/101:label">
            <value>101 (NOAGUIHIO)</value>
          </text>
          <text id="static_instance-site_list-0">
            <value>NOAGUIHIO</value>
          </text>
          <text id="/data/c_site_leader_contact:label">
            <value>Contact du chef village</value>
          </text>
          <text id="static_instance-id_list-1">
            <value>Génération automatique</value>
          </text>
          <text id="/data/c_type_site:label">
            <value>Sélectionner le type de site</value>
          </text>
          <text id="/data/c_site_id:label">
            <value>Code du site selectionné</value>
          </text>
          <text id="static_instance-id_list-0">
            <value>Scanner</value>
          </text>
          <text id="static_instance-site_list-4">
            <value>Autre</value>
          </text>
          <text id="/data/c_consent:label">
            <value>Le chef de village consent-il à la mise en oeuvre de cette enquête ?</value>
          </text>
          <text id="/data/c_site_id2/102:label">
            <value>102 (DALIGUEPALEGNOA)</value>
          </text>
          <text id="static_instance-type_site-1">
            <value>Site de contrôle</value>
          </text>
          <text id="/data/c_consent/Oui:label">
            <value>Oui</value>
          </text>
          <text id="/data/c_gps:label">
            <value>Prener vos coordonnées GPS :</value>
          </text>
          <text id="/data/c_site_leader:label">
            <value>Nom du chef village</value>
          </text>
          <text id="static_instance-code_site-1">
            <value>102</value>
          </text>
          <text id="static_instance-code_site-2">
            <value>103</value>
          </text>
          <text id="/data/c_region/GOH:label">
            <value>GOH</value>
          </text>
          <text id="static_instance-region_list-0">
            <value>GOH</value>
          </text>
          <text id="static_instance-sex_list-0">
            <value>Masculin</value>
          </text>
          <text id="/data/c_site_id2/103:label">
            <value>103 (TCHEDJELET)</value>
          </text>
          <text id="/data/c_recorder:jr:constraintMsg">
            <value>Le code doit être un nombre à deux chiffres entre 9 et 100</value>
          </text>
          <text id="/data/c_site_id2:label">
            <value>Sélectionner le site remplacé</value>
          </text>
          <text id="/data/c_population:label">
            <value>Taille de la population</value>
          </text>
          <text id="static_instance-yes_no-1">
            <value>Non</value>
          </text>
          <text id="static_instance-yes_no-0">
            <value>Oui</value>
          </text>
          <text id="/data/c_consent/Non:label">
            <value>Non</value>
          </text>
          <text id="/data/c_site_id1:label">
            <value>Selectionner le code du site</value>
          </text>
          <text id="/data/c_type_site/Site de contrôle:label">
            <value>Site de contrôle</value>
          </text>
          <text id="/data/c_recorder:hint">
            <value>Si vous êtes le seul enregistreur de votre équipe, cela peut être appelé un "identifiant d'équipe". L'identifiant de l'enregistreur est un code à 2 chiffres qui vous a été attribué, à vous ou à votre équipe.</value>
          </text>
          <text id="static_instance-site_list-2">
            <value>TCHEDJELET</value>
          </text>
          <text id="static_instance-site_list-1">
            <value>DALIGUEPALEGNOA</value>
          </text>
          <text id="/data/c_gps:hint">
            <value>Les coordonnées GPS sont plus faciles à collecter à l'extérieur. Délai d'attente de 2 min</value>
          </text>
          <text id="/data/c_site1/Autre:label">
            <value>Autre</value>
          </text>
          <text id="/data/c_recorder:label">
            <value>Entrer l'identifiant de l'enregistreur</value>
          </text>
          <text id="/data/c_site_id2:hint">
            <value>Site prévue à l'avance</value>
          </text>
        </translation>
      </itext>

      <instance id="region_list">
        <root>
          <item>
            <itextId>static_instance-region_list-0</itextId>
            <name>GOH</name>
          </item>
        </root>
      </instance>
      <instance id="site_list">
        <root>
          <item>
            <itextId>static_instance-site_list-0</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site sentinelle</type_site>
            <name>NOAGUIHIO</name>
          </item>
          <item>
            <itextId>static_instance-site_list-1</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site de contrôle</type_site>
            <name>DALIGUEPALEGNOA</name>
          </item>
          <item>
            <itextId>static_instance-site_list-2</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site de contrôle</type_site>
            <name>TCHEDJELET</name>
          </item>
          <item>
            <itextId>static_instance-site_list-3</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site sentinelle</type_site>
            <name>Autre</name>
          </item>
          <item>
            <itextId>static_instance-site_list-4</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site de contrôle</type_site>
            <name>Autre</name>
          </item>
        </root>
      </instance>
      <instance id="sex_list">
        <root>
          <item>
            <itextId>static_instance-sex_list-0</itextId>
            <name>Male</name>
          </item>
          <item>
            <itextId>static_instance-sex_list-1</itextId>
            <name>Female</name>
          </item>
        </root>
      </instance>
      <instance id="district_list">
        <root>
          <item>
            <itextId>static_instance-district_list-0</itextId>
            <region_list>GOH</region_list>
            <name>GAGNOA 1</name>
          </item>
        </root>
      </instance>
      <instance id="id_list">
        <root>
          <item>
            <itextId>static_instance-id_list-0</itextId>
            <name>Scanner</name>
          </item>
          <item>
            <itextId>static_instance-id_list-1</itextId>
            <name>ID_generation</name>
          </item>
        </root>
      </instance>
      <instance id="type_site">
        <root>
          <item>
            <itextId>static_instance-type_site-0</itextId>
            <name>Site sentinelle</name>
          </item>
          <item>
            <itextId>static_instance-type_site-1</itextId>
            <name>Site de contrôle</name>
          </item>
        </root>
      </instance>
      <instance id="code_site">
        <root>
          <item>
            <itextId>static_instance-code_site-0</itextId>
            <site_list>NOAGUIHIO</site_list>
            <name>101</name>
          </item>
          <item>
            <itextId>static_instance-code_site-1</itextId>
            <site_list>DALIGUEPALEGNOA</site_list>
            <name>102</name>
          </item>
          <item>
            <itextId>static_instance-code_site-2</itextId>
            <site_list>TCHEDJELET</site_list>
            <name>103</name>
          </item>
        </root>
      </instance>
      <instance id="code_site_2">
        <root>
          <item>
            <itextId>static_instance-code_site_2-0</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site sentinelle</type_site>
            <name>101</name>
          </item>
          <item>
            <itextId>static_instance-code_site_2-1</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site de contrôle</type_site>
            <name>102</name>
          </item>
          <item>
            <itextId>static_instance-code_site_2-2</itextId>
            <district_list>GAGNOA 1</district_list>
            <type_site>Site de contrôle</type_site>
            <name>103</name>
          </item>
        </root>
      </instance>
      <instance id="yes_no">
        <root>
          <item>
            <itextId>static_instance-yes_no-0</itextId>
            <name>Oui</name>
          </item>
          <item>
            <itextId>static_instance-yes_no-1</itextId>
            <name>Non</name>
          </item>
        </root>
      </instance>
      <bind constraint=". &gt; 9 and . &lt; 100" jr:constraintMsg="jr:itext('/data/c_recorder:jr:constraintMsg')" nodeset="/data/c_recorder" required="true()" type="int"/>
      <bind nodeset="/data/c_region" required="true()" type="select1" db_add_col_1="."/>
      <bind nodeset="/data/c_district" required="true()" type="select1" db_add_col_1="/data/c_region" db_add_col_2="."/>
      <bind nodeset="/data/c_type_site" required="true()" type="select1"/>
      <bind nodeset="/data/c_site1" required="true()" type="select1"/>
      <bind nodeset="/data/c_site_id1" relevant=" /data/c_site1 != 'Autre'" required="true()" type="select1"/>
      <bind nodeset="/data/c_site2" relevant=" /data/c_site1  = 'Autre'" required="true()" type="string"/>
      <bind nodeset="/data/c_site_id2" relevant=" /data/c_site1  = 'Autre'" required="true()" type="select1"/>
      <bind calculate="if( /data/c_site1  = 'Autre',  /data/c_site2 ,  /data/c_site1 )" nodeset="/data/c_site" readonly="true()" type="string" db_add_col_2="/data/c_district" db_add_col_3="."/>
      <bind calculate="if( /data/c_site1  = 'Autre',  /data/c_site_id2 ,  /data/c_site_id1 )" nodeset="/data/c_site_id" readonly="true()" type="string" db_add_col_3="/data/c_site" db_add_col_4="."/>
      <bind nodeset="/data/c_population" type="int"/>
      <bind nodeset="/data/c_site_leader" required="true()" type="string"/>
      <bind nodeset="/data/c_site_leader_contact" required="true()" type="string"/>
      <bind nodeset="/data/c_consent" required="true()" type="select1"/>
      <bind nodeset="/data/c_gps" required="true()" type="geopoint"/>
      <bind nodeset="/data/c_ending_survey_note" readonly="true()" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/c_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/c_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/c_recorder">
      <label ref="jr:itext('/data/c_recorder:label')"/>
      <hint ref="jr:itext('/data/c_recorder:hint')"/>
    </input>
    <select1 ref="/data/c_region">
      <label ref="jr:itext('/data/c_region:label')"/>
      <item>
        <label ref="jr:itext('/data/c_region/GOH:label')"/>
        <value>GOH</value>
      </item>
    </select1>
    <select1 ref="/data/c_district">
      <label ref="jr:itext('/data/c_district:label')"/>
      <itemset nodeset="instance('district_list')/root/item[region_list =  /data/c_region ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_type_site">
      <label ref="jr:itext('/data/c_type_site:label')"/>
      <item>
        <label ref="jr:itext('/data/c_type_site/Site sentinelle:label')"/>
        <value>Site sentinelle</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_type_site/Site de contrôle:label')"/>
        <value>Site de contrôle</value>
      </item>
    </select1>
    <select1 ref="/data/c_site1">
      <label ref="jr:itext('/data/c_site1:label')"/>
      <itemset nodeset="instance('site_list')/root/item[district_list =  /data/c_district  and type_site=  /data/c_type_site ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_site_id1">
      <label ref="jr:itext('/data/c_site_id1:label')"/>
      <itemset nodeset="instance('code_site')/root/item[site_list =  /data/c_site ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <input ref="/data/c_site2">
      <label ref="jr:itext('/data/c_site2:label')"/>
      <hint ref="jr:itext('/data/c_site2:hint')"/>
    </input>
    <select1 ref="/data/c_site_id2">
      <label ref="jr:itext('/data/c_site_id2:label')"/>
      <hint ref="jr:itext('/data/c_site_id2:hint')"/>
      <itemset nodeset="instance('code_site_2')/root/item[district_list =  /data/c_district  and type_site=  /data/c_type_site ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <input ref="/data/c_site">
      <label ref="jr:itext('/data/c_site:label')"/>
    </input>
    <input ref="/data/c_site_id">
      <label ref="jr:itext('/data/c_site_id:label')"/>
    </input>
    <input ref="/data/c_population">
      <label ref="jr:itext('/data/c_population:label')"/>
    </input>
    <input ref="/data/c_site_leader">
      <label ref="jr:itext('/data/c_site_leader:label')"/>
    </input>
    <input ref="/data/c_site_leader_contact">
      <label ref="jr:itext('/data/c_site_leader_contact:label')"/>
    </input>
    <select1 ref="/data/c_consent">
      <label ref="jr:itext('/data/c_consent:label')"/>
      <item>
        <label ref="jr:itext('/data/c_consent/Oui:label')"/>
        <value>Oui</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_consent/Non:label')"/>
        <value>Non</value>
      </item>
    </select1>
    <input ref="/data/c_gps">
      <label ref="jr:itext('/data/c_gps:label')"/>
      <hint ref="jr:itext('/data/c_gps:hint')"/>
    </input>
    <input ref="/data/c_ending_survey_note">
      <label ref="jr:itext('/data/c_ending_survey_note:label')"/>
    </input>
  </h:body>
</h:html>
