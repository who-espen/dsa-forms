<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:h="http://www.w3.org/1999/xhtml"
  xmlns:jr="http://openrosa.org/javarosa"
  xmlns:odk="http://www.opendatakit.org/xforms"
  xmlns:orx="http://openrosa.org/xforms"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>(Juillet 2023) 1. Pre-TAS FL - Formulaire Site</h:title>
    <model >

      <instance>
        <data id="sn_lf_pretas_1_sites_202307">
          <c_recorder/>
          <c_region/>
          <c_district/>
          <c_cluster_name/>
          <c_cluster_id/>
          <c_site_type/>
          <c_cluster_leader_name/>
          <c_consent/>
          <c_population/>
          <c_present/>
          <c_gps/>
          <p_ending_survey_note/>
          <c_ClusterNotes/>
          <c_start/>
          <c_end/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>

      <itext>
        <translation lang="English">
          <text id="/data/c_recorder:jr:constraintMsg">
            <value>The code must be a two-digit number between 9 and 100</value>
          </text>
          <text id="/data/c_recorder:label">
            <value>Enter Recorder ID</value>
          </text>
          <text id="/data/c_recorder:hint">
            <value>If you are the only recorder on your team, this may be called a "team ID". Recorder ID is the 2-digit code assigned to you or your team.</value>
          </text>
          <text id="/data/c_region:label">
            <value>Select your region</value>
          </text>
          <text id="/data/c_region/LOUGA:label">
            <value>LOUGA</value>
          </text>
          <text id="/data/c_district:label">
            <value>Select your district</value>
          </text>
          <text id="/data/c_cluster_name:label">
            <value>Select the site</value>
          </text>
          <text id="/data/c_cluster_id:jr:constraintMsg">
            <value>The code must be a three-digit number between 99 and 1000</value>
          </text>
          <text id="/data/c_cluster_id:label">
            <value>Select the site ID</value>
          </text>
          <text id="/data/c_site_type:label">
            <value>Site Type</value>
          </text>
          <text id="/data/c_cluster_leader_name:label">
            <value>Name of Village Leader or Head Teacher</value>
          </text>
          <text id="/data/c_consent:label">
            <value>Does the school or community consent to participating in this survey?</value>
          </text>
          <text id="/data/c_consent/Oui:label">
            <value>Yes</value>
          </text>
          <text id="/data/c_consent/Non:label">
            <value>No</value>
          </text>
          <text id="/data/c_population:label">
            <value>Village population of total number of pupils</value>
          </text>
          <text id="/data/c_present:label">
            <value>Depending on the age groups targeted, how many eligible participants are present in this school or community?</value>
          </text>
          <text id="/data/c_gps:label">
            <value>Record your location:</value>
          </text>
          <text id="/data/c_gps:hint">
            <value>GPS coordinates are easier to collect outside. 2 min timeout</value>
          </text>
          <text id="/data/p_ending_survey_note:label">
            <value>You just entered a value that will end the survey</value>
          </text>
          <text id="/data/c_ClusterNotes:label">
            <value>Additional notes to add?</value>
          </text>
          <text id="/data/c_start:label">
            <value>date and time the recorder starts to fill the form</value>
          </text>
          <text id="/data/c_end:label">
            <value>date and time the recorder starts to fill the form</value>
          </text>
          <text id="yes_no-0">
            <value>Yes</value>
          </text>
          <text id="yes_no-1">
            <value>No</value>
          </text>
          <text id="region_list-0">
            <value>LOUGA</value>
          </text>
          <text id="district_list-0">
            <value>COKI</value>
          </text>
          <text id="district_list-1">
            <value>LOUGA</value>
          </text>
          <text id="site_list-0">
            <value>KELLE NDIAYE</value>
          </text>
          <text id="site_list-1">
            <value>KEUR BAKAR</value>
          </text>
          <text id="site_list-2">
            <value>PETE OURACK</value>
          </text>
          <text id="site_list-3">
            <value>TANIME</value>
          </text>
          <text id="code_site_list-0">
            <value>101</value>
          </text>
          <text id="code_site_list-1">
            <value>102</value>
          </text>
          <text id="code_site_list-2">
            <value>103</value>
          </text>
          <text id="code_site_list-3">
            <value>104</value>
          </text>
        </translation>
        <translation default="true()" lang="French">
          <text id="/data/c_recorder:jr:constraintMsg">
            <value>Le code doit être un nombre à deux chiffres entre 9 et 100</value>
          </text>
          <text id="/data/c_recorder:label">
            <value>Entrer l'identifiant de l'enregistreur</value>
          </text>
          <text id="/data/c_recorder:hint">
            <value>Si vous êtes le seul enregistreur de votre équipe, cela peut être appelé un "identifiant d'équipe". L'identifiant de l'enregistreur est un code à 2 chiffres qui a été attribué à vous ou à votre équipe.</value>
          </text>
          <text id="/data/c_region:label">
            <value>Sélectionner la région</value>
          </text>
          <text id="/data/c_region/LOUGA:label">
            <value>LOUGA</value>
          </text>
          <text id="/data/c_district:label">
            <value>Sélectionner le district</value>
          </text>
          <text id="/data/c_cluster_name:label">
            <value>Sélectionner le site</value>
          </text>
          <text id="/data/c_cluster_id:jr:constraintMsg">
            <value>Le code doit être un nombre à trois chiffres compris entre 99 et 1000</value>
          </text>
          <text id="/data/c_cluster_id:label">
            <value>Sélectionner le code du site</value>
          </text>
          <text id="/data/c_site_type:label">
            <value>Type de site</value>
          </text>
          <text id="/data/c_cluster_leader_name:label">
            <value>Nom du chef de village ou du chef d'établissement</value>
          </text>
          <text id="/data/c_consent:label">
            <value>L'école ou la communauté (à travers le directeur et l'APE ou le chef de lacommunauté) consent-elle à participer à cette enquête ?</value>
          </text>
          <text id="/data/c_consent/Oui:label">
            <value>Oui</value>
          </text>
          <text id="/data/c_consent/Non:label">
            <value>Non</value>
          </text>
          <text id="/data/c_population:label">
            <value>Population du village ou nombre d'élève de l'école</value>
          </text>
          <text id="/data/c_present:label">
            <value>Selon les groupes d'âge ciblés, combien de participants admissibles sont présents dans cette école ou communauté ?</value>
          </text>
          <text id="/data/c_gps:label">
            <value>Prener vos coordonnées GPS :</value>
          </text>
          <text id="/data/c_gps:hint">
            <value>Les coordonnées GPS sont plus faciles à collecter à l'extérieur. Délai d'attente de 2 min</value>
          </text>
          <text id="/data/p_ending_survey_note:label">
            <value>Vous vener de saisir une valeur qui mettra fin à l'enquête</value>
          </text>
          <text id="/data/c_ClusterNotes:label">
            <value>Informations supplémentaires</value>
          </text>
          <text id="yes_no-0">
            <value>Oui</value>
          </text>
          <text id="yes_no-1">
            <value>Non</value>
          </text>
          <text id="region_list-0">
            <value>LOUGA</value>
          </text>
          <text id="district_list-0">
            <value>COKI</value>
          </text>
          <text id="district_list-1">
            <value>LOUGA</value>
          </text>
          <text id="site_list-0">
            <value>KELLE NDIAYE</value>
          </text>
          <text id="site_list-1">
            <value>KEUR BAKAR</value>
          </text>
          <text id="site_list-2">
            <value>PETE OURACK</value>
          </text>
          <text id="site_list-3">
            <value>TANIME</value>
          </text>
          <text id="code_site_list-0">
            <value>101</value>
          </text>
          <text id="code_site_list-1">
            <value>102</value>
          </text>
          <text id="code_site_list-2">
            <value>103</value>
          </text>
          <text id="code_site_list-3">
            <value>104</value>
          </text>
          <text id="/data/c_start:label">
            <value>-</value>
          </text>
          <text id="/data/c_end:label">
            <value>-</value>
          </text>
        </translation>
      </itext>

      <instance id="yes_no">
        <root>
          <item>
            <itextId>yes_no-0</itextId>
            <name>Oui</name>
          </item>
          <item>
            <itextId>yes_no-1</itextId>
            <name>Non</name>
          </item>
        </root>
      </instance>
      <instance id="region_list">
        <root>
          <item>
            <itextId>region_list-0</itextId>
            <name>LOUGA</name>
          </item>
        </root>
      </instance>
      <instance id="district_list">
        <root>
          <item>
            <itextId>district_list-0</itextId>
            <name>COKI</name>
            <region_list>LOUGA</region_list>
          </item>
          <item>
            <itextId>district_list-1</itextId>
            <name>LOUGA</name>
            <region_list>LOUGA</region_list>
          </item>
        </root>
      </instance>
      <instance id="site_list">
        <root>
          <item>
            <itextId>site_list-0</itextId>
            <district_list>LOUGA</district_list>
            <name>KELLE NDIAYE</name>
          </item>
          <item>
            <itextId>site_list-1</itextId>
            <district_list>COKI</district_list>
            <name>KEUR BAKAR</name>
          </item>
          <item>
            <itextId>site_list-2</itextId>
            <district_list>COKI</district_list>
            <name>PETE OURACK</name>
          </item>
          <item>
            <itextId>site_list-3</itextId>
            <district_list>LOUGA</district_list>
            <name>TANIME</name>
          </item>
        </root>
      </instance>
      <instance id="code_site_list">
        <root>
          <item>
            <itextId>code_site_list-0</itextId>
            <name>101</name>
            <site_list>KELLE NDIAYE</site_list>
          </item>
          <item>
            <itextId>code_site_list-1</itextId>
            <name>102</name>
            <site_list>TANIME</site_list>
          </item>
          <item>
            <itextId>code_site_list-2</itextId>
            <name>103</name>
            <site_list>KEUR BAKAR</site_list>
          </item>
          <item>
            <itextId>code_site_list-3</itextId>
            <name>104</name>
            <site_list>PETE OURACK</site_list>
          </item>
        </root>
      </instance>
      <bind constraint="regex(.,'^[0-9]{2}$')" jr:constraintMsg="jr:itext('/data/c_recorder:jr:constraintMsg')" nodeset="/data/c_recorder" required="true()" type="int"/>
      <bind nodeset="/data/c_region" required="true()" type="string"/>
      <bind nodeset="/data/c_district" required="true()" type="string" db_add_col_1="."/>
      <bind nodeset="/data/c_cluster_name" required="true()" type="string" db_add_col_1="/data/c_district" db_add_col_2="."/>
      <bind constraint=". &gt; 99 and . &lt; 1000" jr:constraintMsg="jr:itext('/data/c_cluster_id:jr:constraintMsg')" nodeset="/data/c_cluster_id" required="true()" type="string" db_add_col_2="/data/c_cluster_name" db_add_col_3="."/>
      <bind nodeset="/data/c_site_type" readonly="true()" type="string"/>
      <bind nodeset="/data/c_cluster_leader_name" required="true()" type="string"/>
      <bind nodeset="/data/c_consent" required="true()" type="string"/>
      <bind nodeset="/data/c_population" relevant=" /data/c_consent  = 'Oui'" required="false()" type="int"/>
      <bind nodeset="/data/c_present" relevant=" /data/c_consent  = 'Oui'" required="false()" type="int"/>
      <bind nodeset="/data/c_gps" relevant=" /data/c_consent  = 'Oui'" required="true()" type="geopoint"/>
      <bind nodeset="/data/p_ending_survey_note" readonly="true()" relevant=" /data/c_consent  = 'Non'" type="string"/>
      <bind nodeset="/data/c_ClusterNotes" type="string"/>
      <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/data/c_start" type="dateTime"/>
      <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/data/c_end" type="dateTime"/>
      <bind jr:preload="uid" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/c_recorder">
      <label ref="jr:itext('/data/c_recorder:label')"/>
      <hint ref="jr:itext('/data/c_recorder:hint')"/>
    </input>
    <select1 ref="/data/c_region">
      <label ref="jr:itext('/data/c_region:label')"/>
      <item>
        <label ref="jr:itext('/data/c_region/LOUGA:label')"/>
        <value>LOUGA</value>
      </item>
    </select1>
    <select1 ref="/data/c_district">
      <label ref="jr:itext('/data/c_district:label')"/>
      <itemset nodeset="instance('district_list')/root/item[region_list =  /data/c_region ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_cluster_name">
      <label ref="jr:itext('/data/c_cluster_name:label')"/>
      <itemset nodeset="instance('site_list')/root/item[district_list =  /data/c_district ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <select1 ref="/data/c_cluster_id">
      <label ref="jr:itext('/data/c_cluster_id:label')"/>
      <itemset nodeset="instance('code_site_list')/root/item[site_list =  /data/c_cluster_name ]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <input ref="/data/c_site_type">
      <label ref="jr:itext('/data/c_site_type:label')"/>
    </input>
    <input ref="/data/c_cluster_leader_name">
      <label ref="jr:itext('/data/c_cluster_leader_name:label')"/>
    </input>
    <select1 ref="/data/c_consent">
      <label ref="jr:itext('/data/c_consent:label')"/>
      <item>
        <label ref="jr:itext('/data/c_consent/Oui:label')"/>
        <value>Oui</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_consent/Non:label')"/>
        <value>Non</value>
      </item>
    </select1>
    <input ref="/data/c_population">
      <label ref="jr:itext('/data/c_population:label')"/>
    </input>
    <input ref="/data/c_present">
      <label ref="jr:itext('/data/c_present:label')"/>
    </input>
    <input ref="/data/c_gps">
      <label ref="jr:itext('/data/c_gps:label')"/>
      <hint ref="jr:itext('/data/c_gps:hint')"/>
    </input>
    <input ref="/data/p_ending_survey_note">
      <label ref="jr:itext('/data/p_ending_survey_note:label')"/>
    </input>
    <input ref="/data/c_ClusterNotes">
      <label ref="jr:itext('/data/c_ClusterNotes:label')"/>
    </input>
  </h:body>
</h:html>
